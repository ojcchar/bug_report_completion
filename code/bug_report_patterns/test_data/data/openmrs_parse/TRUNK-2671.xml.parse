<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
	<id>TRUNK-2671</id>
	<title>Cache handlers in HandlerUtil</title>
	<description>
		<paragraph id="1">
			<sentence id="1.1">As seen in META-144, a lot of time is spent in overhead introduced by OpenMRS when you save something.</sentence>
			<sentence id="1.2">Specifically it's RequiredDataAdvice.before, of which 85% is HandlerUtil.getHandlersForType.</sentence>
			<sentence id="1.3">The bulk of this is actually from calls to Spring's getBeansOfType (which we can't touch).</sentence>
			<sentence id="1.4">However we're calling that many times.</sentence>
			<sentence id="1.5">We should consider caching the handlers in HandlerUtil, and clearing that cache whenever Spring is restarted.</sentence>
		</paragraph>
	</description>
</bug>
