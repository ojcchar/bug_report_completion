<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
	<id>9299</id>
	<title>exec does not set TERM env when -t passed</title>
	<description>
		<paragraph id="1">
			<sentence id="1.1">Passing `-t` to `docker run` will set the `TERM` environment variable.</sentence>
			<sentence id="1.2">Doing so to `docker exec` will not.</sentence>
			<sentence id="1.3">This causes things like `htop` to not work.</sentence>
		</paragraph>
		<paragraph id="2">
			<sentence id="2.1">$ docker run -d --name foo debian bash -c "while true; sleep 1; done"
 2fc4a0d2fc6d
 $ docker exec -ti foo env
 PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
 HOSTNAME=2fc4a0d2fc6d</sentence>
		</paragraph>
		<paragraph id="3">
			<sentence id="3.1">Or a case that the end user is more likely to experience:</sentence>
		</paragraph>
		<paragraph id="4">
			<sentence id="4.1">$ docker run -d --name foo debian bash -c "while true; sleep 1; done"
 2fc4a0d2fc6d
 $ docker exec foo "apt-get update &amp;&amp; apt-get install -y htop"
 ....
 $ docker exec -ti foo htop
 Error opening terminal: unknown.</sentence>
		</paragraph>
		<paragraph id="5">
			<sentence id="5.1">Versions and stuff:</sentence>
		</paragraph>
		<paragraph id="6">
			<sentence id="6.1"> $ docker version</sentence>
			<sentence id="6.2"> Client version: 1.3.1</sentence>
			<sentence id="6.3"> Client API version: 1.15</sentence>
			<sentence id="6.4"> Go version (client): go1.3.3</sentence>
			<sentence id="6.5"> Git commit (client): 4e9bbfa</sentence>
			<sentence id="6.6"> OS/Arch (client): linux/amd64</sentence>
			<sentence id="6.7"> Server version: 1.3.1</sentence>
			<sentence id="6.8"> Server API version: 1.15</sentence>
			<sentence id="6.9"> Go version (server): go1.3.3</sentence>
			<sentence id="6.10"> Git commit (server): 4e9bbfa</sentence>
			<sentence id="6.11"> $ uname -a </sentence>
			<sentence id="6.12"> Linux hostname 3.13.0-35-generic #62-Ubuntu SMP Fri Aug 15 01:58:42 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux</sentence>
			<sentence id="6.13"> $ docker -D info</sentence>
			<sentence id="6.14"> Containers: 186</sentence>
			<sentence id="6.15"> Images: 2828</sentence>
			<sentence id="6.16"> Storage Driver: aufs</sentence>
			<sentence id="6.17"> Root Dir: /var/lib/docker/aufs</sentence>
			<sentence id="6.18"> Dirs: 3206</sentence>
			<sentence id="6.19"> Execution Driver: native-0.2</sentence>
			<sentence id="6.20"> Kernel Version: 3.13.0-35-generic</sentence>
			<sentence id="6.21"> Operating System: Ubuntu 14.04.1 LTS</sentence>
			<sentence id="6.22"> Debug mode (server): false</sentence>
			<sentence id="6.23"> Debug mode (client): true</sentence>
			<sentence id="6.24"> Fds: 135</sentence>
			<sentence id="6.25"> Goroutines: 224</sentence>
			<sentence id="6.26"> EventsListeners: 1</sentence>
			<sentence id="6.27"> Init Path: /usr/bin/docker</sentence>
			<sentence id="6.28"> WARNING: illegal base64 data at input byte 4</sentence>
			<sentence id="6.29"> WARNING: No swap limit support</sentence>
		</paragraph>
		<paragraph id="7">
			<sentence id="7.1">Apologies if this has already been reported/fixed (I didn't test against master, even though I know I should!)</sentence>
		</paragraph>
	</description>
</bug>
