<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
	<id>15651</id>
	<title>Error starting daemon: error initializing graphdriver: driver not supported</title>
	<description>
		<paragraph id="1">
			<sentence id="1.1">After upgrade from 1.7.1 to 1.8.1 docker daemon refuse to start.</sentence>
			<sentence id="1.2">It fails with this error log message:</sentence>
		</paragraph>
		<paragraph id="2">
			<sentence id="2.1">```
ERRO[0000] Failed to GetDriver graph btrfs /lxc/docker 
FATA[0000] Error starting daemon: error initializing graphdriver: driver not supported 
```</sentence>
		</paragraph>
		<paragraph id="3">
			<sentence id="3.1">`docker version`:
Client:
 Version: 1.8.1
 API version: 1.20
 Go version: go1.4.2
 Git commit: d12ea79
 Built: Thu Aug 13 02:32:18 UTC 2015
 OS/Arch: linux/amd64
Cannot connect to the Docker daemon.</sentence>
			<sentence id="3.2">Is 'docker -d' running on this host?</sentence>
		</paragraph>
		<paragraph id="4">
			<sentence id="4.1">`uname -a`:
```Linux alambike-MM061 3.13.0-61-generic #100~precise1-Ubuntu SMP Wed Jul 29 12:06:40 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux```</sentence>
		</paragraph>
		<paragraph id="5">
			<sentence id="5.1">I was running docker in my laptop, with ubuntu 12.04, with the btrfs driver, but after upgrade from 1.7.1 to 1.8.1 the docker daemon refuses to start.</sentence>
			<sentence id="5.2">The upgrade process was made with the recommended script ```curl -sSL https://get.docker.com/ | sh```</sentence>
		</paragraph>
		<paragraph id="6">
			<sentence id="6.1">It seems can't find correct driver now</sentence>
		</paragraph>
		<paragraph id="7">
			<sentence id="7.1">```</sentence>
			<sentence id="7.2"># docker -s btrfs -d -D</sentence>
			<sentence id="7.3">Warning: '-d' is deprecated, it will be removed soon. See usage.</sentence>
			<sentence id="7.4">WARN[0000] please use 'docker daemon' instead. </sentence>
			<sentence id="7.5">DEBU[0000] Registering GET, /images/search </sentence>
			<sentence id="7.6">DEBU[0000] Registering GET, /containers/json </sentence>
			<sentence id="7.7">DEBU[0000] Registering GET, /containers/{name:.*}/export </sentence>
			<sentence id="7.8">DEBU[0000] Registering GET, /containers/{name:.*}/json </sentence>
			<sentence id="7.9">DEBU[0000] Registering GET, /containers/{name:.*}/attach/ws </sentence>
			<sentence id="7.10">DEBU[0000] Registering GET, /info </sentence>
			<sentence id="7.11">DEBU[0000] Registering GET, /version </sentence>
			<sentence id="7.12">DEBU[0000] Registering GET, /containers/ps </sentence>
			<sentence id="7.13">DEBU[0000] Registering GET, /containers/{name:.*}/top </sentence>
			<sentence id="7.14">DEBU[0000] Registering GET, /containers/{name:.*}/stats </sentence>
			<sentence id="7.15">DEBU[0000] Registering GET, /containers/{name:.*}/archive </sentence>
			<sentence id="7.16">DEBU[0000] Registering GET, /_ping </sentence>
			<sentence id="7.17">DEBU[0000] Registering GET, /events </sentence>
			<sentence id="7.18">DEBU[0000] Registering GET, /images/json </sentence>
			<sentence id="7.19">DEBU[0000] Registering GET, /images/get </sentence>
			<sentence id="7.20">DEBU[0000] Registering GET, /images/{name:.*}/get </sentence>
			<sentence id="7.21">DEBU[0000] Registering GET, /images/{name:.*}/history </sentence>
			<sentence id="7.22">DEBU[0000] Registering GET, /images/{name:.*}/json </sentence>
			<sentence id="7.23">DEBU[0000] Registering GET, /containers/{name:.*}/changes </sentence>
			<sentence id="7.24">DEBU[0000] Registering GET, /containers/{name:.*}/logs </sentence>
			<sentence id="7.25">DEBU[0000] Registering GET, /exec/{id:.*}/json </sentence>
			<sentence id="7.26">DEBU[0000] Registering POST, /images/{name:.*}/tag </sentence>
			<sentence id="7.27">DEBU[0000] Registering POST, /containers/{name:.*}/pause </sentence>
			<sentence id="7.28">DEBU[0000] Registering POST, /containers/{name:.*}/rename </sentence>
			<sentence id="7.29">DEBU[0000] Registering POST, /commit </sentence>
			<sentence id="7.30">DEBU[0000] Registering POST, /images/create </sentence>
			<sentence id="7.31">DEBU[0000] Registering POST, /images/load </sentence>
			<sentence id="7.32">DEBU[0000] Registering POST, /images/{name:.*}/push </sentence>
			<sentence id="7.33">DEBU[0000] Registering POST, /containers/{name:.*}/unpause </sentence>
			<sentence id="7.34">DEBU[0000] Registering POST, /containers/{name:.*}/restart </sentence>
			<sentence id="7.35">DEBU[0000] Registering POST, /exec/{name:.*}/resize </sentence>
			<sentence id="7.36">DEBU[0000] Registering POST, /containers/{name:.*}/resize </sentence>
			<sentence id="7.37">DEBU[0000] Registering POST, /containers/create </sentence>
			<sentence id="7.38">DEBU[0000] Registering POST, /containers/{name:.*}/kill </sentence>
			<sentence id="7.39">DEBU[0000] Registering POST, /containers/{name:.*}/start </sentence>
			<sentence id="7.40">DEBU[0000] Registering POST, /containers/{name:.*}/stop </sentence>
			<sentence id="7.41">DEBU[0000] Registering POST, /containers/{name:.*}/copy </sentence>
			<sentence id="7.42">DEBU[0000] Registering POST, /containers/{name:.*}/exec </sentence>
			<sentence id="7.43">DEBU[0000] Registering POST, /exec/{name:.*}/start </sentence>
			<sentence id="7.44">DEBU[0000] Registering POST, /auth </sentence>
			<sentence id="7.45">DEBU[0000] Registering POST, /build </sentence>
			<sentence id="7.46">DEBU[0000] Registering POST, /containers/{name:.*}/wait </sentence>
			<sentence id="7.47">DEBU[0000] Registering POST, /containers/{name:.*}/attach </sentence>
			<sentence id="7.48">DEBU[0000] Registering PUT, /containers/{name:.*}/archive </sentence>
			<sentence id="7.49">DEBU[0000] Registering DELETE, /containers/{name:.*} </sentence>
			<sentence id="7.50">DEBU[0000] Registering DELETE, /images/{name:.*} </sentence>
			<sentence id="7.51">DEBU[0000] Registering OPTIONS, </sentence>
			<sentence id="7.52">DEBU[0000] Registering HEAD, /containers/{name:.*}/archive </sentence>
			<sentence id="7.53">DEBU[0000] [graphdriver] trying provided driver "btrfs" </sentence>
			<sentence id="7.54">ERRO[0000] Failed to GetDriver graph btrfs /lxc/docker </sentence>
			<sentence id="7.55">DEBU[0000] docker group found. gid: 999 </sentence>
			<sentence id="7.56">INFO[0000] Listening for HTTP on unix (/var/run/docker.sock) </sentence>
			<sentence id="7.57">FATA[0000] Error starting daemon: error initializing graphdriver: driver not supported </sentence>
		</paragraph>
	</description>
</bug>
