<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
	<id>48278</id>
	<title>Bad Gateway error while waiting for more than 3 minutes</title>
	<description>
		<paragraph id="1">
			<sentence id="1.1">I have configured Apache as a proxy for Tomcat application .</sentence>
			<sentence id="1.2">Apache is listening on 7443 port .</sentence>
			<sentence id="1.3">It act as proxy on https while tomcat is running for http .</sentence>
			<sentence id="1.4">This is my configuration in httpd-ssl.</sentence>
			<sentence id="1.5">conf</sentence>
		</paragraph>
		<paragraph id="2">
			<sentence id="2.1">&lt;VirtualHost _default_:7443&gt;
ServerName myapp
ServerAdmin dummy@dummy.com
ErrorLog "/opt/apache2.2.14/logs/error_log"
TransferLog "/opt/apache2.2.14/logs/access_log"</sentence>
		</paragraph>
		<paragraph id="3">
			<sentence id="3.1">SSLEngine on
SSLCipherSuite !</sentence>
			<sentence id="3.2">EXPORT40:!</sentence>
			<sentence id="3.3">EXPORT56:!</sentence>
			<sentence id="3.4">LOW:!</sentence>
			<sentence id="3.5">ADH:!</sentence>
			<sentence id="3.6">NULL:!</sentence>
			<sentence id="3.7">AECDH-AES256-SHA:!</sentence>
			<sentence id="3.8">AECDH-AES128-SHA:!</sentence>
			<sentence id="3.9">AECDH-DES-CBC3-SHA:!</sentence>
			<sentence id="3.10">AECDH-RC4-SHA:!</sentence>
			<sentence id="3.11">RC2-CBC-MD5:SSLv3:SSLv2:TLSv1
SSLCertificateFile "/opt/apache2/conf/onmobile.com.cert"
SSLCertificateKeyFile "/opt/apache2/conf/onmobile.com.key"
ProxyRequests Off 
ProxyPreserveHost Off
ProxyPass / http://172.16.28.48/
ProxyPassReverse / http://172.16.28.48/
SetEnv force-proxy-request-1.0 1
SetEnv proxy-nokeepalive 1
&lt;FilesMatch "\.</sentence>
			<sentence id="3.12">(cgi|shtml|phtml|php)$"&gt;
    SSLOptions +StdEnvVars
&lt;/FilesMatch&gt;
&lt;Directory "/opt/apache2/cgi-bin"&gt;
    SSLOptions +StdEnvVars
&lt;/Directory&gt;</sentence>
		</paragraph>
		<paragraph id="4">
			<sentence id="4.1">CustomLog "/opt/apache2/logs/ssl_request_log" \
          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"</sentence>
		</paragraph>
		<paragraph id="5">
			<sentence id="5.1">&lt;/VirtualHost&gt;</sentence>
		</paragraph>
		<paragraph id="6">
			<sentence id="6.1">My problem is , when ever my tomcat is taking more than 4 minutes to deliver the response (while uploading file or search for any big item), Apache is saying "The proxy server received an invalid response from an upstream server" as 502 Bad gateway error.</sentence>
		</paragraph>
		<paragraph id="7">
			<sentence id="7.1">Its urgent for one of our business case .</sentence>
			<sentence id="7.2">So please help me out from this issue .</sentence>
		</paragraph>
	</description>
</bug>
