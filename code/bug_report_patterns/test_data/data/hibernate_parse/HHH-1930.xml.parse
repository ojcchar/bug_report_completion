<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
	<id>HHH-1930</id>
	<title>QuerySyntaxException "with-clause expressions did not reference from-clause element to which the with-clause was associated"</title>
	<description>
		<paragraph id="1">
			<sentence id="1.1">In Version 3.1.2 the following "EventManager" HQL query worked fine:</sentence>
		</paragraph>
		<paragraph id="2">
			<sentence id="2.1">select p from Person p join p.emailAddresses as email with email = 'xyz'</sentence>
		</paragraph>
		<paragraph id="3">
			<sentence id="3.1">and produced an SQL query like this:</sentence>
		</paragraph>
		<paragraph id="4">
			<sentence id="4.1">select person0_.</sentence>
			<sentence id="4.2">PERSON_ID as PERSON1_2_, person0_.</sentence>
			<sentence id="4.3">age as age2_, person0_.</sentence>
			<sentence id="4.4">firstname as firstname2_, person0_.</sentence>
			<sentence id="4.5">lastname as lastname2_ 
 from PERSON person0_ 
 inner join PERSON_EMAIL_ADDR emailaddre1_ 
 on person0_.</sentence>
			<sentence id="4.6">PERSON_ID=emailaddre1_.</sentence>
			<sentence id="4.7">PERSON_ID and (emailaddre1_.</sentence>
			<sentence id="4.8">EMAIL_ADDR='xyz')</sentence>
		</paragraph>
		<paragraph id="5">
			<sentence id="5.1">From Version 3.1.3 on this HQL throws the following QuerySyntaxException:
"with-clause expressions did not reference from-clause element to which the with-clause was associated"</sentence>
		</paragraph>
	</description>
</bug>
