<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
	<id>HHH-2614</id>
	<title>Blob Length Set to 255 By Default With Derby DB</title>
	<description>
		<paragraph id="1">
			<sentence id="1.1">When the (Hibernate) type "blob" is used in an object mapping file and a length is not specified, Hibernate converts this type as "blob (255)" to the Apache Derby database table definition.</sentence>
			<sentence id="1.2">(This seems to be the same as the conversion behavior of a Java String to "varchar (255).")</sentence>
			<sentence id="1.3">The same behavior results when using a CustomType that returns a Java SQL Types.BLOB.</sentence>
			<sentence id="1.4">This is not the behavior I expected.</sentence>
		</paragraph>
		<paragraph id="2">
			<sentence id="2.1">Hibernate converts the same type as simply "blob" (which has a maximum length of 65535 bytes when no length is specified) when using MySQL version 5.0 (http://dev.mysql.com/doc/refman/5.0/en/storage-requirements.html).</sentence>
			<sentence id="2.2">Furthermore, the Derby specification (http://db.apache.org/derby/docs/10.2/ref/rrefblob.html) states that a blob type without a length value will default to a length of 2M-1 bytes.</sentence>
		</paragraph>
		<paragraph id="3">
			<sentence id="3.1">I could not find a length specification for the Java SQL Blob type (http://java.sun.com/javase/6/docs/api/), but the current default length does seem to conform to other Hibernate type standards.</sentence>
			<sentence id="3.2">That is, if a length is not specified, the length defaults to the maximum length defined for that type by the database.</sentence>
		</paragraph>
	</description>
</bug>
