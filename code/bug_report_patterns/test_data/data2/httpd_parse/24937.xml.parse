<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>24937</id>
    <title>Again: win32 Apache 2.0.48 build broken!!! missing ssl-std.conf</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">Fix for this bug mentioned in http://nagoya.apache.org/bugzilla/show_bug.cgi?id=24329 is not quite good, because it caused that ssl-std.conf which is 
produced by Makefile.in contains improper symbolic part of paths 
(pseudo_variables fo 'configure' utility on unix platforms) rather than real 
paths.</sentence>
            <sentence id="1.2">Following patch (tested on the real installation of Apache2.0) makes (I hope) 
better solution and is symmetrical for httpd-std.</sentence>
            <sentence id="1.3">conf.in, httpd-win.</sentence>
            <sentence id="1.4">conf pair.</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">(sorry for my 'english')</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">Index: Makefile.win</sentence>
            <sentence id="3.2">===================================================================</sentence>
            <sentence id="3.3">RCS file: /home/cvspublic/httpd-2.0/Makefile.win,v</sentence>
            <sentence id="3.4">retrieving revision 1.120.2.13</sentence>
            <sentence id="3.5">diff -u -r1.120.2.13 Makefile.win</sentence>
            <sentence id="3.6">--- Makefile.win	18 Nov 2003 00:46:02 -0000	1.120.2.13</sentence>
            <sentence id="3.7">+++ Makefile.win	24 Nov 2003 09:32:04 -0000</sentence>
            <sentence id="3.8">@@ -451,10 +451,10 @@</sentence>
            <sentence id="3.9">-mkdir "$(INSTDIR)\logs"</sentence>
            <sentence id="3.10">-mkdir "$(INSTDIR)\modules"</sentence>
            <sentence id="3.11">-mkdir "$(INSTDIR)\proxy"</sentence>
            <sentence id="3.12">- 	-mkdir "$(INSTDIR)\symbols"</sentence>
            <sentence id="3.13">- 	-mkdir "$(INSTDIR)\symbols\exe"</sentence>
            <sentence id="3.14">- 	-mkdir "$(INSTDIR)\symbols\dll"</sentence>
            <sentence id="3.15">- 	-mkdir "$(INSTDIR)\symbols\so"</sentence>
            <sentence id="3.16">+	-mkdir "$(INSTDIR)\symbols"</sentence>
            <sentence id="3.17">+	-mkdir "$(INSTDIR)\symbols\exe"</sentence>
            <sentence id="3.18">+	-mkdir "$(INSTDIR)\symbols\dll"</sentence>
            <sentence id="3.19">+	-mkdir "$(INSTDIR)\symbols\so"</sentence>
            <sentence id="3.20">copy ABOUT_APACHE 	"$(INSTDIR)\ABOUT_APACHE.</sentence>
            <sentence id="3.21">txt" &lt;.</sentence>
            <sentence id="3.22">y</sentence>
            <sentence id="3.23">copy CHANGES 		"$(INSTDIR)\CHANGES.txt" &lt;.</sentence>
            <sentence id="3.24">y</sentence>
            <sentence id="3.25">copy INSTALL 		"$(INSTDIR)\INSTALL.txt" &lt;.</sentence>
            <sentence id="3.26">y</sentence>
            <sentence id="3.27">@@ -630,8 +630,8 @@</sentence>
            <sentence id="3.28">&lt;&lt;</sentence>
            <sentence id="3.29">if not exist "$(INSTDIR)\conf\httpd.conf" \</sentence>
            <sentence id="3.30">copy "$(INSTDIR)\conf\httpd.default.conf" "$(INSTDIR)</sentence>
            <sentence id="3.31">\conf\httpd.conf"</sentence>
            <sentence id="3.32">-	copy docs\conf\ssl-std.</sentence>
            <sentence id="3.33">conf.in "$(INSTDIR)\conf\ssl.default.conf" &lt;.</sentence>
            <sentence id="3.34">y</sentence>
            <sentence id="3.35">-	-awk -f &lt;&lt;script.awk "docs/conf/ssl-std.</sentence>
            <sentence id="3.36">conf" "$(INSTDIR)"</sentence>
            <sentence id="3.37">&gt; "$(INSTDIR)\conf\ssl.default.conf"</sentence>
            <sentence id="3.38">+	copy docs\conf\ssl-win.</sentence>
            <sentence id="3.39">conf "$(INSTDIR)\conf\ssl.default.conf" &lt;.</sentence>
            <sentence id="3.40">y</sentence>
            <sentence id="3.41">+	-awk -f &lt;&lt;script.awk "docs/conf/ssl-win.</sentence>
            <sentence id="3.42">conf" "$(INSTDIR)"</sentence>
            <sentence id="3.43">&gt; "$(INSTDIR)\conf\ssl.default.conf"</sentence>
            <sentence id="3.44">BEGIN {</sentence>
            <sentence id="3.45">serverroot = ARGV[2];</sentence>
            <sentence id="3.46">delete ARGV[2];</sentence>
            <sentence id="3.47">Index: docs/conf/ssl-win.</sentence>
            <sentence id="3.48">conf</sentence>
            <sentence id="3.49">===================================================================</sentence>
            <sentence id="3.50">+++ docs/conf/ssl-win.</sentence>
            <sentence id="3.51">conf	Fri Nov 21 11:04:38 2003</sentence>
            <sentence id="3.52">@@  0,0 +1,249 @@</sentence>
            <sentence id="3.53">+#</sentence>
            <sentence id="3.54">+# This is the Apache server configuration file providing SSL support.</sentence>
            <sentence id="3.55">+# It contains the configuration directives to instruct the server how to</sentence>
            <sentence id="3.56">+# serve pages over an https connection.</sentence>
            <sentence id="3.57">For detailing information about these</sentence>
            <sentence id="3.58">+# directives see &lt;URL:http://httpd.apache.org/docs-2.0/mod/mod_ssl.html&gt;</sentence>
            <sentence id="3.59">+#</sentence>
            <sentence id="3.60">+#   For the moment, see &lt;URL:http://www.modssl.org/docs/&gt; for this info.</sentence>
            <sentence id="3.61">+#   The documents are still being prepared from material donated by the</sentence>
            <sentence id="3.62">+#   modssl project.</sentence>
            <sentence id="3.63">+#</sentence>
            <sentence id="3.64">+# Do NOT simply read the instructions in here without understanding</sentence>
            <sentence id="3.65">+# what they do.</sentence>
            <sentence id="3.66">They're here only as hints or reminders.</sentence>
            <sentence id="3.67">If you are unsure</sentence>
            <sentence id="3.68">+# consult the online docs.</sentence>
            <sentence id="3.69">You have been warned.</sentence>
            <sentence id="3.70">+#</sentence>
            <sentence id="3.71">+&lt;IfDefine SSL&gt;</sentence>
            <sentence id="3.72">+</sentence>
            <sentence id="3.73">+#   Until documentation is completed, please check http://www.modssl.org/</sentence>
            <sentence id="3.74">+#   for additional config examples and module docmentation.</sentence>
            <sentence id="3.75">Directives</sentence>
            <sentence id="3.76">+#   and features of mod_ssl are largely unchanged from the mod_ssl project</sentence>
            <sentence id="3.77">+#   for Apache 1.3.</sentence>
            <sentence id="3.78">+</sentence>
            <sentence id="3.79">+#</sentence>
            <sentence id="3.80">+# When we also provide SSL we have to listen to the</sentence>
            <sentence id="3.81">+# standard HTTP port (see above) and to the HTTPS port</sentence>
            <sentence id="3.82">+#</sentence>
            <sentence id="3.83">+# Note: Configurations that use IPv6 but not IPv4-mapped addresses need two</sentence>
            <sentence id="3.84">+#       Listen directives: "Listen [::]:443" and "Listen 0.0.0.0:443"</sentence>
            <sentence id="3.85">+#</sentence>
            <sentence id="3.86">+Listen 443</sentence>
            <sentence id="3.87">+</sentence>
            <sentence id="3.88">+##</sentence>
            <sentence id="3.89">+##  SSL Global Context</sentence>
            <sentence id="3.90">+##</sentence>
            <sentence id="3.91">+##  All SSL configuration in this context applies both to</sentence>
            <sentence id="3.92">+##  the main server and all SSL-enabled virtual hosts.</sentence>
            <sentence id="3.93">+##</sentence>
            <sentence id="3.94">+</sentence>
            <sentence id="3.95">+#</sentence>
            <sentence id="3.96">+#   Some MIME-types for downloading Certificates and CRLs</sentence>
            <sentence id="3.97">+#</sentence>
            <sentence id="3.98">+AddType application/x-x509-ca-cert .</sentence>
            <sentence id="3.99">crt</sentence>
            <sentence id="3.100">+AddType application/x-pkcs7-crl    .</sentence>
            <sentence id="3.101">crl</sentence>
            <sentence id="3.102">+</sentence>
            <sentence id="3.103">+#   Pass Phrase Dialog:</sentence>
            <sentence id="3.104">+#   Configure the pass phrase gathering process.</sentence>
            <sentence id="3.105">+#   The filtering dialog program (`builtin' is a internal</sentence>
            <sentence id="3.106">+#   terminal dialog) has to provide the pass phrase on stdout.</sentence>
            <sentence id="3.107">+SSLPassPhraseDialog  builtin</sentence>
            <sentence id="3.108">+</sentence>
            <sentence id="3.109">+#   Inter-Process Session Cache:</sentence>
            <sentence id="3.110">+#   Configure the SSL Session Cache: First the mechanism</sentence>
            <sentence id="3.111">+#   to use and second the expiring timeout (in seconds).</sentence>
            <sentence id="3.112">+#SSLSessionCache        none</sentence>
            <sentence id="3.113">+#SSLSessionCache        shmht:logs/ssl_scache(512000)</sentence>
            <sentence id="3.114">+#SSLSessionCache        shmcb:logs/ssl_scache(512000)</sentence>
            <sentence id="3.115">+SSLSessionCache         dbm:logs/ssl_scache</sentence>
            <sentence id="3.116">+SSLSessionCacheTimeout  300</sentence>
            <sentence id="3.117">+</sentence>
            <sentence id="3.118">+#   Semaphore:</sentence>
            <sentence id="3.119">+#   Configure the path to the mutual exclusion semaphore the</sentence>
            <sentence id="3.120">+#   SSL engine uses internally for inter-process synchronization.</sentence>
            <sentence id="3.121">+SSLMutex  file:logs/ssl_mutex</sentence>
            <sentence id="3.122">+</sentence>
            <sentence id="3.123">+#   Pseudo Random Number Generator (PRNG):</sentence>
            <sentence id="3.124">+#   Configure one or more sources to seed the PRNG of the</sentence>
            <sentence id="3.125">+#   SSL library.</sentence>
            <sentence id="3.126">The seed data should be of good random quality.</sentence>
            <sentence id="3.127">+#   WARNING!</sentence>
            <sentence id="3.128">On some platforms /dev/random blocks if not enough entropy</sentence>
            <sentence id="3.129">+#   is available.</sentence>
            <sentence id="3.130">This means you then cannot use the /dev/random device</sentence>
            <sentence id="3.131">+#   because it would lead to very long connection times (as long as</sentence>
            <sentence id="3.132">+#   it requires to make more entropy available).</sentence>
            <sentence id="3.133">But usually those</sentence>
            <sentence id="3.134">+#   platforms additionally provide a /dev/urandom device which doesn't</sentence>
            <sentence id="3.135">+#   block.</sentence>
            <sentence id="3.136">So, if available, use this one instead.</sentence>
            <sentence id="3.137">Read the mod_ssl User</sentence>
            <sentence id="3.138">+#   Manual for more details.</sentence>
            <sentence id="3.139">+SSLRandomSeed startup builtin</sentence>
            <sentence id="3.140">+SSLRandomSeed connect builtin</sentence>
            <sentence id="3.141">+#SSLRandomSeed startup file:/dev/random  512</sentence>
            <sentence id="3.142">+#SSLRandomSeed startup file:/dev/urandom 512</sentence>
            <sentence id="3.143">+#SSLRandomSeed connect file:/dev/random  512</sentence>
            <sentence id="3.144">+#SSLRandomSeed connect file:/dev/urandom 512</sentence>
            <sentence id="3.145">+</sentence>
            <sentence id="3.146">+##</sentence>
            <sentence id="3.147">+## SSL Virtual Host Context</sentence>
            <sentence id="3.148">+##</sentence>
            <sentence id="3.149">+</sentence>
            <sentence id="3.150">+&lt;VirtualHost _default_:443&gt;</sentence>
            <sentence id="3.151">+</sentence>
            <sentence id="3.152">+#  General setup for the virtual host</sentence>
            <sentence id="3.153">+DocumentRoot "@@ServerRoot@@/htdocs"</sentence>
            <sentence id="3.154">+ServerName www.example.com:443</sentence>
            <sentence id="3.155">+ServerAdmin you@example.com</sentence>
            <sentence id="3.156">+ErrorLog logs/error_log</sentence>
            <sentence id="3.157">+TransferLog logs/access_log</sentence>
            <sentence id="3.158">+</sentence>
            <sentence id="3.159">+#   SSL Engine Switch:</sentence>
            <sentence id="3.160">+#   Enable/Disable SSL for this virtual host.</sentence>
            <sentence id="3.161">+SSLEngine on</sentence>
            <sentence id="3.162">+</sentence>
            <sentence id="3.163">+#   SSL Cipher Suite:</sentence>
            <sentence id="3.164">+#   List the ciphers that the client is permitted to negotiate.</sentence>
            <sentence id="3.165">+#   See the mod_ssl documentation for a complete list.</sentence>
            <sentence id="3.166">+SSLCipherSuite ALL:!</sentence>
            <sentence id="3.167">ADH:!</sentence>
            <sentence id="3.168">EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL</sentence>
            <sentence id="3.169">+</sentence>
            <sentence id="3.170">+#   Server Certificate:</sentence>
            <sentence id="3.171">+#   Point SSLCertificateFile at a PEM encoded certificate.</sentence>
            <sentence id="3.172">If</sentence>
            <sentence id="3.173">+#   the certificate is encrypted, then you will be prompted for a</sentence>
            <sentence id="3.174">+#   pass phrase.</sentence>
            <sentence id="3.175">Note that a kill -HUP will prompt again.</sentence>
            <sentence id="3.176">Keep</sentence>
            <sentence id="3.177">+#   in mind that if you have both an RSA and a DSA certificate you</sentence>
            <sentence id="3.178">+#   can configure both in parallel (to also allow the use of DSA</sentence>
            <sentence id="3.179">+#   ciphers, etc.)</sentence>
            <sentence id="3.180">+SSLCertificateFile @@ServerRoot@@/conf/ssl.crt/server.crt</sentence>
            <sentence id="3.181">+#SSLCertificateFile @@ServerRoot@@/conf/ssl.crt/server-dsa.crt</sentence>
            <sentence id="3.182">+</sentence>
            <sentence id="3.183">+#   Server Private Key:</sentence>
            <sentence id="3.184">+#   If the key is not combined with the certificate, use this</sentence>
            <sentence id="3.185">+#   directive to point at the key file.</sentence>
            <sentence id="3.186">Keep in mind that if</sentence>
            <sentence id="3.187">+#   you've both a RSA and a DSA private key you can configure</sentence>
            <sentence id="3.188">+#   both in parallel (to also allow the use of DSA ciphers, etc.)</sentence>
            <sentence id="3.189">+SSLCertificateKeyFile @@ServerRoot@@/conf/ssl.key/server.key</sentence>
            <sentence id="3.190">+#SSLCertificateKeyFile @@ServerRoot@@/conf/ssl.key/server-dsa.key</sentence>
            <sentence id="3.191">+</sentence>
            <sentence id="3.192">+#   Server Certificate Chain:</sentence>
            <sentence id="3.193">+#   Point SSLCertificateChainFile at a file containing the</sentence>
            <sentence id="3.194">+#   concatenation of PEM encoded CA certificates which form the</sentence>
            <sentence id="3.195">+#   certificate chain for the server certificate.</sentence>
            <sentence id="3.196">Alternatively</sentence>
            <sentence id="3.197">+#   the referenced file can be the same as SSLCertificateFile</sentence>
            <sentence id="3.198">+#   when the CA certificates are directly appended to the server</sentence>
            <sentence id="3.199">+#   certificate for convinience.</sentence>
            <sentence id="3.200">+#SSLCertificateChainFile @@ServerRoot@@/conf/ssl.crt/ca.crt</sentence>
            <sentence id="3.201">+</sentence>
            <sentence id="3.202">+#   Certificate Authority (CA):</sentence>
            <sentence id="3.203">+#   Set the CA certificate verification path where to find CA</sentence>
            <sentence id="3.204">+#   certificates for client authentication or alternatively one</sentence>
            <sentence id="3.205">+#   huge file containing all of them (file must be PEM encoded)</sentence>
            <sentence id="3.206">+#   Note: Inside SSLCACertificatePath you need hash symlinks</sentence>
            <sentence id="3.207">+#         to point to the certificate files.</sentence>
            <sentence id="3.208">Use the provided</sentence>
            <sentence id="3.209">+#         Makefile to update the hash symlinks after changes.</sentence>
            <sentence id="3.210">+#SSLCACertificatePath @@ServerRoot@@/conf/ssl.crt</sentence>
            <sentence id="3.211">+#SSLCACertificateFile @@ServerRoot@@/conf/ssl.crt/ca-bundle.crt</sentence>
            <sentence id="3.212">+</sentence>
            <sentence id="3.213">+#   Certificate Revocation Lists (CRL):</sentence>
            <sentence id="3.214">+#   Set the CA revocation path where to find CA CRLs for client</sentence>
            <sentence id="3.215">+#   authentication or alternatively one huge file containing all</sentence>
            <sentence id="3.216">+#   of them (file must be PEM encoded)</sentence>
            <sentence id="3.217">+#   Note: Inside SSLCARevocationPath you need hash symlinks</sentence>
            <sentence id="3.218">+#         to point to the certificate files.</sentence>
            <sentence id="3.219">Use the provided</sentence>
            <sentence id="3.220">+#         Makefile to update the hash symlinks after changes.</sentence>
            <sentence id="3.221">+#SSLCARevocationPath @@ServerRoot@@/conf/ssl.crl</sentence>
            <sentence id="3.222">+#SSLCARevocationFile @@ServerRoot@@/conf/ssl.crl/ca-bundle.crl</sentence>
            <sentence id="3.223">+</sentence>
            <sentence id="3.224">+#   Client Authentication (Type):</sentence>
            <sentence id="3.225">+#   Client certificate verification type and depth.</sentence>
            <sentence id="3.226">Types are</sentence>
            <sentence id="3.227">+#   none, optional, require and optional_no_ca.</sentence>
            <sentence id="3.228">Depth is a</sentence>
            <sentence id="3.229">+#   number which specifies how deeply to verify the certificate</sentence>
            <sentence id="3.230">+#   issuer chain before deciding the certificate is not valid.</sentence>
            <sentence id="3.231">+#SSLVerifyClient require</sentence>
            <sentence id="3.232">+#SSLVerifyDepth  10</sentence>
            <sentence id="3.233">+</sentence>
            <sentence id="3.234">+#   Access Control:</sentence>
            <sentence id="3.235">+#   With SSLRequire you can do per-directory access control based</sentence>
            <sentence id="3.236">+#   on arbitrary complex boolean expressions containing server</sentence>
            <sentence id="3.237">+#   variable checks and other lookup directives.</sentence>
            <sentence id="3.238">The syntax is a</sentence>
            <sentence id="3.239">+#   mixture between C and Perl.</sentence>
            <sentence id="3.240">See the mod_ssl documentation</sentence>
            <sentence id="3.241">+#   for more details.</sentence>
            <sentence id="3.242">+#&lt;Location /&gt;</sentence>
            <sentence id="3.243">+#SSLRequire (    %{SSL_CIPHER} !</sentence>
            <sentence id="3.244">~ m/^(EXP|NULL)/ \</sentence>
            <sentence id="3.245">+#            and %{SSL_CLIENT_S_DN_O} eq "Snake Oil, Ltd." \</sentence>
            <sentence id="3.246">+#            and %{SSL_CLIENT_S_DN_OU} in {"Staff", "CA", "Dev"} \</sentence>
            <sentence id="3.247">+#            and %{TIME_WDAY} &gt;= 1 and %{TIME_WDAY} &lt;= 5 \</sentence>
            <sentence id="3.248">+#            and %{TIME_HOUR} &gt;= 8 and %{TIME_HOUR} &lt;= 20       ) \</sentence>
            <sentence id="3.249">+#           or %{REMOTE_ADDR} =~ m/^192\.76\.162\.</sentence>
            <sentence id="3.250">[0-9]+$/</sentence>
            <sentence id="3.251">+#&lt;/Location&gt;</sentence>
            <sentence id="3.252">+</sentence>
            <sentence id="3.253">+#   SSL Engine Options:</sentence>
            <sentence id="3.254">+#   Set various options for the SSL engine.</sentence>
            <sentence id="3.255">+#   o FakeBasicAuth:</sentence>
            <sentence id="3.256">+#     Translate the client X.509 into a Basic Authorisation.</sentence>
            <sentence id="3.257">This means that</sentence>
            <sentence id="3.258">+#     the standard Auth/DBMAuth methods can be used for access control.</sentence>
            <sentence id="3.259">The</sentence>
            <sentence id="3.260">+#     user name is the `one line' version of the client's X.509 certificate.</sentence>
            <sentence id="3.261">+#     Note that no password is obtained from the user.</sentence>
            <sentence id="3.262">Every entry in the user</sentence>
            <sentence id="3.263">+#     file needs this password: `xxj31ZMTZzkVA'.</sentence>
            <sentence id="3.264">+#   o ExportCertData:</sentence>
            <sentence id="3.265">+#     This exports two additional environment variables: SSL_CLIENT_CERT and</sentence>
            <sentence id="3.266">+#     SSL_SERVER_CERT.</sentence>
            <sentence id="3.267">These contain the PEM-encoded certificates of the</sentence>
            <sentence id="3.268">+#     server (always existing) and the client (only existing when client</sentence>
            <sentence id="3.269">+#     authentication is used).</sentence>
            <sentence id="3.270">This can be used to import the certificates</sentence>
            <sentence id="3.271">+#     into CGI scripts.</sentence>
            <sentence id="3.272">+#   o StdEnvVars:</sentence>
            <sentence id="3.273">+#     This exports the standard SSL/TLS related `SSL_*' environment variables.</sentence>
            <sentence id="3.274">+#     Per default this exportation is switched off for performance reasons,</sentence>
            <sentence id="3.275">+#     because the extraction step is an expensive operation and is usually</sentence>
            <sentence id="3.276">+#     useless for serving static content.</sentence>
            <sentence id="3.277">So one usually enables the</sentence>
            <sentence id="3.278">+#     exportation for CGI and SSI requests only.</sentence>
            <sentence id="3.279">+#   o CompatEnvVars:</sentence>
            <sentence id="3.280">+#     This exports obsolete environment variables for backward compatibility</sentence>
            <sentence id="3.281">+#     to Apache-SSL 1.x, mod_ssl 2.0.x, Sioux 1.0 and Stronghold 2.x.</sentence>
            <sentence id="3.282">Use this</sentence>
            <sentence id="3.283">+#     to provide compatibility to existing CGI scripts.</sentence>
            <sentence id="3.284">+#   o StrictRequire:</sentence>
            <sentence id="3.285">+#     This denies access when "SSLRequireSSL" or "SSLRequire" applied even</sentence>
            <sentence id="3.286">+#     under a "Satisfy any" situation, i.e. when it applies access is denied</sentence>
            <sentence id="3.287">+#     and no other module can change it.</sentence>
            <sentence id="3.288">+#   o OptRenegotiate:</sentence>
            <sentence id="3.289">+#     This enables optimized SSL connection renegotiation handling when SSL</sentence>
            <sentence id="3.290">+#     directives are used in per-directory context.</sentence>
            <sentence id="3.291">+#SSLOptions +FakeBasicAuth +ExportCertData +CompatEnvVars +StrictRequire</sentence>
            <sentence id="3.292">+&lt;Files ~ "\.</sentence>
            <sentence id="3.293">(cgi|shtml|phtml|php3?)</sentence>
            <sentence id="3.294">$"&gt;</sentence>
            <sentence id="3.295">+    SSLOptions +StdEnvVars</sentence>
            <sentence id="3.296">+&lt;/Files&gt;</sentence>
            <sentence id="3.297">+&lt;Directory "@@ServerRoot@@/cgi-bin"&gt;</sentence>
            <sentence id="3.298">+    SSLOptions +StdEnvVars</sentence>
            <sentence id="3.299">+&lt;/Directory&gt;</sentence>
            <sentence id="3.300">+</sentence>
            <sentence id="3.301">+#   SSL Protocol Adjustments:</sentence>
            <sentence id="3.302">+#   The safe and default but still SSL/TLS standard compliant shutdown</sentence>
            <sentence id="3.303">+#   approach is that mod_ssl sends the close notify alert but doesn't wait for</sentence>
            <sentence id="3.304">+#   the close notify alert from client.</sentence>
            <sentence id="3.305">When you need a different shutdown</sentence>
            <sentence id="3.306">+#   approach you can use one of the following variables:</sentence>
            <sentence id="3.307">+#   o ssl-unclean-shutdown:</sentence>
            <sentence id="3.308">+#     This forces an unclean shutdown when the connection is closed, i.e. no</sentence>
            <sentence id="3.309">+#     SSL close notify alert is send or allowed to received.</sentence>
            <sentence id="3.310">This violates</sentence>
            <sentence id="3.311">+#     the SSL/TLS standard but is needed for some brain-dead browsers.</sentence>
            <sentence id="3.312">Use</sentence>
            <sentence id="3.313">+#     this when you receive I/O errors because of the standard approach where</sentence>
            <sentence id="3.314">+#     mod_ssl sends the close notify alert.</sentence>
            <sentence id="3.315">+#   o ssl-accurate-shutdown:</sentence>
            <sentence id="3.316">+#     This forces an accurate shutdown when the connection is closed, i.e. a</sentence>
            <sentence id="3.317">+#     SSL close notify alert is send and mod_ssl waits for the close notify</sentence>
            <sentence id="3.318">+#     alert of the client.</sentence>
            <sentence id="3.319">This is 100% SSL/TLS standard compliant, but in</sentence>
            <sentence id="3.320">+#     practice often causes hanging connections with brain-dead browsers.</sentence>
            <sentence id="3.321">Use</sentence>
            <sentence id="3.322">+#     this only for browsers where you know that their SSL implementation</sentence>
            <sentence id="3.323">+#     works correctly.</sentence>
            <sentence id="3.324">+#   Notice: Most problems of broken clients are also related to the HTTP</sentence>
            <sentence id="3.325">+#   keep-alive facility, so you usually additionally want to disable</sentence>
            <sentence id="3.326">+#   keep-alive for those clients, too.</sentence>
            <sentence id="3.327">Use variable "nokeepalive" for this.</sentence>
            <sentence id="3.328">+#   Similarly, one has to force some clients to use HTTP/1.0 to workaround</sentence>
            <sentence id="3.329">+#   their broken HTTP/1.1 implementation.</sentence>
            <sentence id="3.330">Use variables "downgrade-1.0" and</sentence>
            <sentence id="3.331">+#   "force-response-1.0" for this.</sentence>
            <sentence id="3.332">+SetEnvIf User-Agent ".</sentence>
            <sentence id="3.333">*MSIE.</sentence>
            <sentence id="3.334">*" \</sentence>
            <sentence id="3.335">+         nokeepalive ssl-unclean-shutdown \</sentence>
            <sentence id="3.336">+         downgrade-1.0 force-response-1.0</sentence>
            <sentence id="3.337">+</sentence>
            <sentence id="3.338">+#   Per-Server Logging:</sentence>
            <sentence id="3.339">+#   The home of a custom SSL log file.</sentence>
            <sentence id="3.340">Use this when you want a</sentence>
            <sentence id="3.341">+#   compact non-error SSL logfile on a virtual host basis.</sentence>
            <sentence id="3.342">+CustomLog logs/ssl_request_log \</sentence>
            <sentence id="3.343">+          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"</sentence>
            <sentence id="3.344">+</sentence>
            <sentence id="3.345">+&lt;/VirtualHost&gt;</sentence>
            <sentence id="3.346">+</sentence>
            <sentence id="3.347">+&lt;/IfDefine&gt;</sentence>
            <sentence id="3.348">+</sentence>
        </paragraph>
    </description>
</bug>
