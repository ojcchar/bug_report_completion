<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>26154</id>
    <title>Enclosed directives are overwritten and/or not assigned</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">Following situation:
2 JRun-Servers are running on different ports and are working well.</sentence>
            <sentence id="1.2">Apache 2.0.44 is our HTTPD-Server.</sentence>
            <sentence id="1.3">The problem is to connect these two servers to Apache HTTPD-server.</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">Following solutions were tested and are NOT working:</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1"># Configuration 1: excerpt of httpd.con</sentence>
            <sentence id="3.2"># JRun connector jrun_mod20.so is loaded before</sentence>
            <sentence id="3.3">Alias /lios/ "/usr/local/apache2/htdocs/lios"</sentence>
            <sentence id="3.4">&lt;Directory "/usr/local/apache2/htdocs/lios"&gt;</sentence>
            <sentence id="3.5">    #Options Indexes FollowSymLinks MultiViews IncludesNoExec</sentence>
            <sentence id="3.6">    AddOutputFilter Includes html</sentence>
            <sentence id="3.7">    AllowOverride None</sentence>
            <sentence id="3.8">    Order allow,deny</sentence>
            <sentence id="3.9">    Allow from all</sentence>
            <sentence id="3.10">    LoadModule jrun_module /opt/jrun4/lib/wsconfig/1/mod_jrun20.so</sentence>
            <sentence id="3.11">    &lt;IfModule mod_jrun20.c&gt;</sentence>
            <sentence id="3.12">      JRunConfig Verbose true</sentence>
            <sentence id="3.13">      JRunConfig Apialloc false</sentence>
            <sentence id="3.14">      JRunConfig Ssl false</sentence>
            <sentence id="3.15">      JRunConfig Ignoresuffixmap false</sentence>
            <sentence id="3.16">      JRUNConfig jvmlist exal,lios</sentence>
            <sentence id="3.17">      #JRunConfig Verbose true</sentence>
            <sentence id="3.18">      JRunConfig Serverstore /opt/jrun4/lib/wsconfig/lios/jrunserver.store</sentence>
            <sentence id="3.19">      JRunConfig Bootstrap 158.226.0.86:51002</sentence>
            <sentence id="3.20">      AddHandler jrun-handler .jsp .jws</sentence>
            <sentence id="3.21">    &lt;/IfModule&gt;</sentence>
            <sentence id="3.22">&lt;/Directory&gt;</sentence>
            <sentence id="3.23">Alias /exal/ "/usr/local/apache2/htdocs/exal"</sentence>
            <sentence id="3.24">&lt;Directory "/usr/local/apache2/htdocs/exal"&gt;</sentence>
            <sentence id="3.25">    #Options Indexes FollowSymLinks MultiViews IncludesNoExec</sentence>
            <sentence id="3.26">    AddOutputFilter Includes html</sentence>
            <sentence id="3.27">    AllowOverride None</sentence>
            <sentence id="3.28">    Order allow,deny</sentence>
            <sentence id="3.29">    Allow from all</sentence>
            <sentence id="3.30">    LoadModule jrun_module /opt/jrun4/lib/wsconfig/1/mod_jrun20.so</sentence>
            <sentence id="3.31">    &lt;IfModule mod_jrun20.c&gt;</sentence>
            <sentence id="3.32">      JRunConfig Verbose true</sentence>
            <sentence id="3.33">      JRunConfig Apialloc false</sentence>
            <sentence id="3.34">      JRunConfig Ssl false</sentence>
            <sentence id="3.35">      JRunConfig Ignoresuffixmap false</sentence>
            <sentence id="3.36">      JRUNConfig jvmlist exal,lios</sentence>
            <sentence id="3.37">      #JRunConfig Verbose true</sentence>
            <sentence id="3.38">      JRunConfig Serverstore /opt/jrun4/lib/wsconfig/exal/jrunserver.store</sentence>
            <sentence id="3.39">      JRunConfig Bootstrap 158.226.0.86:51003</sentence>
            <sentence id="3.40">      AddHandler jrun-handler .jsp .jws</sentence>
            <sentence id="3.41">    &lt;/IfModule&gt;</sentence>
            <sentence id="3.42">&lt;/Directory&gt;</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">If only one of them is available in httpd.conf it works fine, are both of them 
administered in httpd.conf, only the last one works.</sentence>
            <sentence id="4.2">For the first one I get 
Index of /&lt;firstOne&gt;</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">The same problem occurs for following configuration:</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1"># Configuration 2: excerpt of httpd.con</sentence>
            <sentence id="6.2"># JRun connector jrun_mod20.so is loaded before</sentence>
            <sentence id="6.3">&lt;Location "/exal"&gt;</sentence>
            <sentence id="6.4">    #Options Indexes FollowSymLinks MultiViews IncludesNoExec</sentence>
            <sentence id="6.5">    AddOutputFilter Includes html</sentence>
            <sentence id="6.6">    AllowOverride None</sentence>
            <sentence id="6.7">    Order allow,deny</sentence>
            <sentence id="6.8">    Allow from all</sentence>
            <sentence id="6.9">    &lt;IfModule mod_jrun20.c&gt;</sentence>
            <sentence id="6.10">      JRunConfig Verbose true</sentence>
            <sentence id="6.11">      JRunConfig Serverstore /opt/jrun4/lib/wsconfig/exal/jrunserver.store</sentence>
            <sentence id="6.12">      JRunConfig Bootstrap 127.0.0.1:51003</sentence>
            <sentence id="6.13">      AddHandler jrun-handler .jsp .jws</sentence>
            <sentence id="6.14">    &lt;/IfModule&gt;      </sentence>
            <sentence id="6.15">&lt;/Location&gt;    </sentence>
            <sentence id="6.16">#########################################################################</sentence>
            <sentence id="6.17">&lt;Location "/lios"&gt;</sentence>
            <sentence id="6.18">    #Options Indexes FollowSymLinks MultiViews IncludesNoExec</sentence>
            <sentence id="6.19">    AddOutputFilter Includes html</sentence>
            <sentence id="6.20">    AllowOverride None</sentence>
            <sentence id="6.21">    Order allow,deny</sentence>
            <sentence id="6.22">    Allow from all</sentence>
            <sentence id="6.23">    &lt;IfModule mod_jrun20.c&gt;</sentence>
            <sentence id="6.24">      JRunConfig Verbose true</sentence>
            <sentence id="6.25">      JRunConfig Serverstore /opt/jrun4/lib/wsconfig/lios/jrunserver.store</sentence>
            <sentence id="6.26">      JRunConfig Bootstrap 127.0.0.1:51002</sentence>
            <sentence id="6.27">      AddHandler jrun-handler .jsp .jws</sentence>
            <sentence id="6.28">    &lt;/IfModule&gt;      </sentence>
            <sentence id="6.29">&lt;/Location&gt;   </sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">In the documentation there is following text:
&lt;Location&gt; Description: Applies enclosed directives only to matching URLs 
&lt;Directory&gt; Descritpion: Enclose a group of directives that apply only to the 
named file-system directory and sub-directories</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">In my oppinion these behavior is a bug.</sentence>
            <sentence id="8.2">JRun recommends &lt;virtual-hosts&gt; which are not applicable in our case (only one 
IP, closed network without DNS)</sentence>
        </paragraph>
        <paragraph id="9">
            <sentence id="9.1">so far
regards
Mike</sentence>
        </paragraph>
    </description>
</bug>
