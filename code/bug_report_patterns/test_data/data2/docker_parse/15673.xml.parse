<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>15673</id>
    <title>docker ps --quiet doesn't work with psFormat table</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">Looks like docker ps --quiet doesn't work when using new psFormat options, introduced in docker 1.8
https://github.com/docker/docker/issues/7477</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">docker version:</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">"'
Client:
 Version: 1.8.1
 API version: 1.20
 Go version: go1.4.2
 Git commit: d12ea79
 Built: Thu Aug 13 19:47:52 UTC 2015
 OS/Arch: darwin/amd64</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">Server:
 Version: 1.8.1
 API version: 1.20
 Go version: go1.4.2
 Git commit: d12ea79
 Built: Thu Aug 13 02:49:29 UTC 2015
 OS/Arch: linux/amd64
"'</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">docker info:</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">"'
Containers: 1
Images: 142
Storage Driver: aufs
 Root Dir: /mnt/sda1/var/lib/docker/aufs
 Backing Filesystem: extfs
 Dirs: 144
 Dirperm1 Supported: true
Execution Driver: native-0.2
Logging Driver: json-file
Kernel Version: 4.0.9-boot2docker
Operating System: Boot2Docker 1.8.1 (TCL 6.3); master : 5986633 - Thu Aug 13 04:17:54 UTC 2015
CPUs: 4
Total Memory: 3.858 GiB
Name: imc
ID: QZFV:WXGI:TPNT:3PZU:DD7D:RWKP:MNXY:R4PF:XGVS:XX2D:NEVD:BBJG
Debug mode (server): true
File Descriptors: 10
Goroutines: 27
System Time: 2015-08-18T19:42:37.145986554Z
EventsListeners: 0
Init SHA1:
Init Path: /usr/local/bin/docker
Docker Root Dir: /mnt/sda1/var/lib/docker
Labels:
 provider=virtualbox
"'</sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">uname -a:
'Darwin Kernel Version 14.4.0 (Mac OSX)'</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">Provide additional environment details (AWS, VirtualBox, physical, etc.):</sentence>
            <sentence id="8.2">- docker-machine (Mac OSX, VirtualBox)</sentence>
        </paragraph>
        <paragraph id="9">
            <sentence id="9.1">List the steps to reproduce the issue:</sentence>
            <sentence id="9.2">1 Create/save psFormat table, with (container) ID in any index, other than the first.</sentence>
            <sentence id="9.3">Here is my ${HOME}/.</sentence>
            <sentence id="9.4">docker/config.</sentence>
            <sentence id="9.5">json:</sentence>
        </paragraph>
        <paragraph id="10">
            <sentence id="10.1">"' json</sentence>
            <sentence id="10.2">{</sentence>
            <sentence id="10.3">"psFormat": "table {{ .</sentence>
            <sentence id="10.4">Names }}\t{{ .</sentence>
            <sentence id="10.5">ID }}\t{{ .</sentence>
            <sentence id="10.6">Status }}\t{{ .</sentence>
            <sentence id="10.7">Image }}"</sentence>
            <sentence id="10.8">}</sentence>
            <sentence id="10.9">"'</sentence>
            <sentence id="10.10">1 Run docker ps --quiet</sentence>
        </paragraph>
        <paragraph id="11">
            <sentence id="11.1">Describe the results you received:
All values from the psFormat table are displayed</sentence>
        </paragraph>
        <paragraph id="12">
            <sentence id="12.1">"'
&gt; docker ps --quiet
CONTAINER ID NAMES STATUS IMAGE
c3674a480bea high_bartik Up 19 seconds docker-registry:8080/roe
"'</sentence>
        </paragraph>
        <paragraph id="13">
            <sentence id="13.1">Describe the results you expected:
Only display numeric IDs, as the default behavior without psFormat table.</sentence>
            <sentence id="13.2">For example:</sentence>
        </paragraph>
        <paragraph id="14">
            <sentence id="14.1">"'
&gt; docker ps --quiet
c3674a480bea
"'</sentence>
        </paragraph>
        <paragraph id="15">
            <sentence id="15.1">Provide additional info you think is important:
BIG, big fan of the psFormat!</sentence>
            <sentence id="15.2">It would be nice to have this work with --quiet.</sentence>
        </paragraph>
        <paragraph id="16">
            <sentence id="16.1">Aside/wishlist/probably-a-separate-request:
It would be sweet to allow separate psFormat tables for list default (docker ps) and list all (docker ps --all).</sentence>
        </paragraph>
    </description>
</bug>
