<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>737</id>
    <title>'go test' hangs and fills tmpfs</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">As mentioned in the title, tests never finish and fill tmpfs instantly.</sentence>
            <sentence id="1.2">64bit Ubuntu 13.04
Docker version: commit 28a30eda880ceac876c6ce3791672bf1e6b2ebe5</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">1 make VERBOSE=1</sentence>
            <sentence id="2.2">2 run tests</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">"'
&gt; go test
warning: building out-of-date packages:
 github.com/dotcloud/docker/auth
 github.com/dotcloud/docker/utils
 github.com/shin-/cookiejar
 github.com/dotcloud/docker/registry
 github.com/dotcloud/docker/term
 github.com/gorilla/context
 github.com/gorilla/mux
 github.com/kr/pty
installing these packages with 'go test -i' will speed future tests.</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">Pulling repository docker-ut from https://index.docker.io/v1</sentence>
            <sentence id="4.2">Pulling image e9aa60c60128cad1 (latest) from docker-ut</sentence>
            <sentence id="4.3">2013/05/29 00:55:23 WARNING: Your kernel does not support swap limit capabilities. Limitation discarded.</sentence>
            <sentence id="4.4">2013/05/29 00:55:23 WARNING: Your kernel does not support swap limit capabilities. Limitation discarded.</sentence>
            <sentence id="4.5">2013/05/29 00:55:26 Container e20e6f2db3e67134d2c9a482545ae595ee0b328be635e9de7b3b0da780aa96be failed to exit within 1 seconds of SIGTERM - using the force</sentence>
            <sentence id="4.6">2013/05/29 00:55:28 Container b08b33d932e5e87662131eb0cd9e7bb267468c4a3fdba9116167c28eb29f3434 failed to exit within 1 seconds of SIGTERM - using the force</sentence>
            <sentence id="4.7">2013/05/29 00:55:34 WARNING: Your kernel does not support swap limit capabilities. Limitation discarded.</sentence>
            <sentence id="4.8">"'</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">3 Tests hang here, need to be killed manually.</sentence>
            <sentence id="5.2">4 Result (/tmp previously 1%):</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">"'
tmpfs 7.8G 7.8G 14M 100% /tmp</sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">-rw------- 1 root root 8344367104 May 29 00:55 d7d2efb77d8a21f5904d0d1208b72e1cb3b77fc127c9ad42620a0115ffcb77b4-stdout.</sentence>
            <sentence id="7.2">log</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">(^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^ etc)
"'</sentence>
        </paragraph>
    </description>
</bug>
