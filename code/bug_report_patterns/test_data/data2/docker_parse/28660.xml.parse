<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>28660</id>
    <title>Folder sharing is case sensitive on Windows 7/Docker Toolbox?</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">&lt;!</sentence>
            <sentence id="1.2">--
If you are reporting a new issue, make sure that we do not have any duplicates
already open.</sentence>
            <sentence id="1.3">You can ensure this by searching the issue list for this
repository.</sentence>
            <sentence id="1.4">If there is a duplicate, please close your issue and add a comment
to the existing issue instead.</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">If you suspect your issue is a bug, please edit your issue description to
include the BUG REPORT INFORMATION shown below.</sentence>
            <sentence id="2.2">If you fail to provide this
information within 7 days, we cannot debug your issue and will close it.</sentence>
            <sentence id="2.3">We
will, however, reopen it if you later provide the information.</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">For more information about reporting issues, see
https://github.com/docker/docker/blob/master/CONTRIBUTING.md#reporting-other-issues</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">---------------------------------------------------</sentence>
            <sentence id="4.2">GENERAL SUPPORT INFORMATION</sentence>
            <sentence id="4.3">---------------------------------------------------</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">The GitHub issue tracker is for bug reports and feature requests.</sentence>
            <sentence id="5.2">General support can be found at the following locations:</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">- Docker Support Forums - https://forums.docker.com</sentence>
            <sentence id="6.2">- IRC - irc.freenode.net #docker channel</sentence>
            <sentence id="6.3">- Post a question on StackOverflow, using the Docker tag</sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">---------------------------------------------------</sentence>
            <sentence id="7.2">BUG REPORT INFORMATION</sentence>
            <sentence id="7.3">---------------------------------------------------</sentence>
            <sentence id="7.4">Use the commands below to provide key information from your environment:</sentence>
            <sentence id="7.5">You do NOT have to include this information if this is a FEATURE REQUEST</sentence>
            <sentence id="7.6">--&gt;</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">**Description**</sentence>
        </paragraph>
        <paragraph id="9">
            <sentence id="9.1">Folder sharing is case sensitive?</sentence>
        </paragraph>
        <paragraph id="10">
            <sentence id="10.1">This command creates a folder "t123" containing "test" file on the host:
"'
$ docker run -it -v /c/Users/testing123/t123:/t123 alpine sh -c "touch /t123/test"
"'
This command does not:
"'
$ docker run -it -v /c/users/testing123/t123:/t123 alpine sh -c "touch /t123/test"
"'
Both commands create "t123/test" in the container and "/c/users/testing123/t123/test" in the "default" VM.</sentence>
        </paragraph>
        <paragraph id="11">
            <sentence id="11.1">I found this problem while trying to figure out why a docker-compose.</sentence>
            <sentence id="11.2">yml file that worked fine on Windows 10/Docker for Windows 1.12.3 was behaving differently on Windows 7/Docker Toolbox 1.12.3:</sentence>
        </paragraph>
        <paragraph id="12">
            <sentence id="12.1">"'</sentence>
            <sentence id="12.2">version: '2'</sentence>
            <sentence id="12.3">services:</sentence>
            <sentence id="12.4">one:</sentence>
            <sentence id="12.5">[...]</sentence>
            <sentence id="12.6">volumes:</sentence>
            <sentence id="12.7">- .</sentence>
            <sentence id="12.8">/t123:/t123</sentence>
            <sentence id="12.9">"'</sentence>
        </paragraph>
        <paragraph id="13">
            <sentence id="13.1">On Windows 10/Docker for Windows, this results in "./t123" ("c:/users/testing123/t123") being created on the host, and files being shared between host and guest.</sentence>
            <sentence id="13.2">On Windows 7/Docker Toolbox, "./t123" is not created on the host.</sentence>
        </paragraph>
        <paragraph id="14">
            <sentence id="14.1">If I change the volume mount in docker-compose.yml to be "/c/users/testing123/t123:/t123" the result is the same.</sentence>
            <sentence id="14.2">However, if I change it to be "/c/Users/testing123/t123:/t123" then it works.</sentence>
        </paragraph>
        <paragraph id="15">
            <sentence id="15.1">**Steps to reproduce the issue:**</sentence>
            <sentence id="15.2">1 Install Windows 7 Professional x64 using VMware Workstation 12 Player with user testing123 and apply all 'important' updates (just mentioning all that because it's exactly what I just happened to do...)</sentence>
            <sentence id="15.3">2 Install DockerToolbox-1.12.3 accepting all defaults</sentence>
            <sentence id="15.4">3 Open docker quickstart terminal and run the following commands...</sentence>
            <sentence id="15.5">"'</sentence>
            <sentence id="15.6">testing123@WIN-ON3GMQSBBNH MINGW64 /c/users/testing123</sentence>
            <sentence id="15.7">$ ls t123</sentence>
            <sentence id="15.8">ls: cannot access 't123': No such file or directory</sentence>
        </paragraph>
        <paragraph id="16">
            <sentence id="16.1">testing123@WIN-ON3GMQSBBNH MINGW64 /c/users/testing123
$ docker run -it -v /c/users/testing123/t123:/t123 alpine sh -c "touch /t123/test"</sentence>
        </paragraph>
        <paragraph id="17">
            <sentence id="17.1">testing123@WIN-ON3GMQSBBNH MINGW64 /c/users/testing123
$ ls t123
ls: cannot access 't123': No such file or directory</sentence>
        </paragraph>
        <paragraph id="18">
            <sentence id="18.1">testing123@WIN-ON3GMQSBBNH MINGW64 /c/users/testing123
$ docker run -it -v /c/Users/testing123/t123:/t123 alpine sh -c "touch /t123/test"</sentence>
        </paragraph>
        <paragraph id="19">
            <sentence id="19.1">testing123@WIN-ON3GMQSBBNH MINGW64 /c/users/testing123
$ ls t123
test
"'</sentence>
        </paragraph>
        <paragraph id="20">
            <sentence id="20.1">**Describe the results you received:**</sentence>
            <sentence id="20.2">As shown in the session above, I find that mounting "/c/Users" as a volume works, while "/c/users" does not.</sentence>
        </paragraph>
        <paragraph id="21">
            <sentence id="21.1">**Describe the results you expected:**</sentence>
            <sentence id="21.2">I expected either "/c/Users" or "/c/users/" to work, because Windows is case insensitive.</sentence>
        </paragraph>
        <paragraph id="22">
            <sentence id="22.1">**Additional information you deem important (e.g. issue happens only occasionally):**</sentence>
        </paragraph>
        <paragraph id="23">
            <sentence id="23.1">I assume this issue arises from VirtualBox.</sentence>
            <sentence id="23.2">The problem I have is that if I distribute Docker-based software to people, and those people use Windows/Docker Toolbox, I'm going to have a hard time explaining about figuring out which case their "/c/users/username" path is stored in on the file system, because Windows itself is case insensitive so this will all be foreign to them...</sentence>
        </paragraph>
        <paragraph id="24">
            <sentence id="24.1">**Output of 'docker version':**</sentence>
        </paragraph>
        <paragraph id="25">
            <sentence id="25.1">"'
$ docker version
Client:
 Version: 1.12.3
 API version: 1.24
 Go version: go1.6.3
 Git commit: 6b644ec
 Built: Wed Oct 26 23:26:11 2016
 OS/Arch: windows/amd64</sentence>
        </paragraph>
        <paragraph id="26">
            <sentence id="26.1">Server:
 Version: 1.12.3
 API version: 1.24
 Go version: go1.6.3
 Git commit: 6b644ec
 Built: Wed Oct 26 23:26:11 2016
 OS/Arch: linux/amd64
"'</sentence>
        </paragraph>
        <paragraph id="27">
            <sentence id="27.1">**Output of 'docker info':**</sentence>
        </paragraph>
        <paragraph id="28">
            <sentence id="28.1">"'</sentence>
            <sentence id="28.2">$ docker info</sentence>
            <sentence id="28.3">Containers: 10</sentence>
            <sentence id="28.4"> Running: 0</sentence>
            <sentence id="28.5"> Paused: 0</sentence>
            <sentence id="28.6"> Stopped: 10</sentence>
            <sentence id="28.7">Images: 4</sentence>
            <sentence id="28.8">Server Version: 1.12.3</sentence>
            <sentence id="28.9">Storage Driver: aufs</sentence>
            <sentence id="28.10"> Root Dir: /mnt/sda1/var/lib/docker/aufs</sentence>
            <sentence id="28.11"> Backing Filesystem: extfs</sentence>
            <sentence id="28.12"> Dirs: 51</sentence>
            <sentence id="28.13"> Dirperm1 Supported: true</sentence>
            <sentence id="28.14">Logging Driver: json-file</sentence>
            <sentence id="28.15">Cgroup Driver: cgroupfs</sentence>
            <sentence id="28.16">Plugins:</sentence>
            <sentence id="28.17"> Volume: local</sentence>
            <sentence id="28.18"> Network: null host bridge overlay</sentence>
            <sentence id="28.19">Swarm: inactive</sentence>
            <sentence id="28.20">Runtimes: runc</sentence>
            <sentence id="28.21">Default Runtime: runc</sentence>
            <sentence id="28.22">Security Options: seccomp</sentence>
            <sentence id="28.23">Kernel Version: 4.4.27-boot2docker</sentence>
            <sentence id="28.24">Operating System: Boot2Docker 1.12.3 (TCL 7.2); HEAD : 7fc7575 - Thu Oct 27 17:23:17 UTC 2016</sentence>
            <sentence id="28.25">OSType: linux</sentence>
            <sentence id="28.26">Architecture: x86_64</sentence>
            <sentence id="28.27">CPUs: 1</sentence>
            <sentence id="28.28">Total Memory: 995.8 MiB</sentence>
            <sentence id="28.29">Name: default</sentence>
            <sentence id="28.30">ID: EKPO:5LQC:OIUK:LNPW:MKTD:OYND:L4NO:TUYZ:M3E2:NVTV:CWOY:2L4W</sentence>
            <sentence id="28.31">Docker Root Dir: /mnt/sda1/var/lib/docker</sentence>
            <sentence id="28.32">Debug Mode (client): false</sentence>
            <sentence id="28.33">Debug Mode (server): true</sentence>
            <sentence id="28.34"> File Descriptors: 13</sentence>
            <sentence id="28.35"> Goroutines: 24</sentence>
            <sentence id="28.36"> System Time: 2016-11-21T14:17:52.553906094Z</sentence>
            <sentence id="28.37"> EventsListeners: 0</sentence>
            <sentence id="28.38">Username: XXX</sentence>
            <sentence id="28.39">Registry: https://index.docker.io/v1/</sentence>
            <sentence id="28.40">Labels:</sentence>
            <sentence id="28.41"> provider=virtualbox</sentence>
            <sentence id="28.42">Insecure Registries:</sentence>
            <sentence id="28.43"> 127.0.0.0/8</sentence>
            <sentence id="28.44">"'</sentence>
        </paragraph>
        <paragraph id="29">
            <sentence id="29.1">**Additional environment details (AWS, VirtualBox, physical, etc.):**</sentence>
        </paragraph>
        <paragraph id="30">
            <sentence id="30.1">Debian 8/VMware Workstation 12 Player running guest Windows 7 Professional x64.</sentence>
            <sentence id="30.2">VirtualBox version 5.1.8 r111374.</sentence>
            <sentence id="30.3">Shared "users" folder for the "default" VM was set up automatically by Docker Toolbox's installer, with Name="c/Users", Path="\?</sentence>
            <sentence id="30.4">\c:\Users", Auto-mount=Yes, Access=Full.</sentence>
        </paragraph>
    </description>
</bug>
