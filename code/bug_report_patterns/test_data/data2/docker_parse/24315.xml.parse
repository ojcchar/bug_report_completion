<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>24315</id>
    <title>Docker fails to start: panic: runtime error: index out of range</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">&lt;!</sentence>
            <sentence id="1.2">--
If you are reporting a new issue, make sure that we do not have any duplicates
already open.</sentence>
            <sentence id="1.3">You can ensure this by searching the issue list for this
repository.</sentence>
            <sentence id="1.4">If there is a duplicate, please close your issue and add a comment
to the existing issue instead.</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">If you suspect your issue is a bug, please edit your issue description to
include the BUG REPORT INFORMATION shown below.</sentence>
            <sentence id="2.2">If you fail to provide this
information within 7 days, we cannot debug your issue and will close it.</sentence>
            <sentence id="2.3">We
will, however, reopen it if you later provide the information.</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">For more information about reporting issues, see
https://github.com/docker/docker/blob/master/CONTRIBUTING.md#reporting-other-issues</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">---------------------------------------------------</sentence>
            <sentence id="4.2">BUG REPORT INFORMATION</sentence>
            <sentence id="4.3">---------------------------------------------------</sentence>
            <sentence id="4.4">Use the commands below to provide key information from your environment:</sentence>
            <sentence id="4.5">You do NOT have to include this information if this is a FEATURE REQUEST</sentence>
            <sentence id="4.6">--&gt;</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">**Output of 'docker version':**</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">"'
Docker version 1.10.3, build 20f81dd
"'</sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">**Output of 'docker daemon':**</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">"'
INFO[0001] Graph migration to content-addressability took 0.00 seconds
INFO[0001] Firewalld running: false
panic: runtime error: index out of range</sentence>
        </paragraph>
        <paragraph id="9">
            <sentence id="9.1">goroutine 1 [running]:</sentence>
            <sentence id="9.2">panic(0xd8ff38, 0x1171e008)</sentence>
            <sentence id="9.3"> /home/theodor/resin-devices/resin-ts/build/tmp/sysroots/x86_64-linux/usr/lib/arm-poky-linux-gnueabi/go/src/runtime/panic.go:464 +0x330</sentence>
            <sentence id="9.4">github.com/boltdb/bolt.(*Bucket).pageNode(0x11711720, 0x6b720004, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.5"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/boltdb/bolt/bucket.go:696 +0x2f8</sentence>
            <sentence id="9.6">github.com/boltdb/bolt.(*Cursor).search(0x11bf8eb4, 0x11bf8e1c, 0x1b, 0x1b, 0x6b720004, 0x0)</sentence>
            <sentence id="9.7"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/boltdb/bolt/cursor.go:238 +0x30</sentence>
            <sentence id="9.8">github.com/boltdb/bolt.(*Cursor).seek(0x11bf8eb4, 0x11bf8e1c, 0x1b, 0x1b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...)</sentence>
            <sentence id="9.9"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/boltdb/bolt/cursor.go:152 +0xd0</sentence>
            <sentence id="9.10">github.com/boltdb/bolt.(*Cursor).Seek(0x11bf8eb4, 0x11bf8e1c, 0x1b, 0x1b, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.11"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/boltdb/bolt/cursor.go:111 +0x5c</sentence>
            <sentence id="9.12">github.com/docker/libkv/store/boltdb.(*BoltDB).List.func1(0x118f9f00, 0x0, 0x0)</sentence>
            <sentence id="9.13"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libkv/store/boltdb/boltdb.go:285 +0x178</sentence>
            <sentence id="9.14">github.com/boltdb/bolt.(*DB).View(0x1178ec00, 0x11bf8f24, 0x0, 0x0)</sentence>
            <sentence id="9.15"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/boltdb/bolt/db.go:578 +0xb0</sentence>
            <sentence id="9.16">github.com/docker/libkv/store/boltdb.(*BoltDB).List(0x1193f9c0, 0x11711620, 0x1b, 0x0, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.17"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libkv/store/boltdb/boltdb.go:299 +0x19c</sentence>
            <sentence id="9.18">github.com/docker/libnetwork/datastore.(*cache).kmap(0x11794670, 0xb54c6158, 0x1188bb60, 0x74ff8, 0x0, 0x0)</sentence>
            <sentence id="9.19"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/datastore/cache.go:43 +0x20c</sentence>
            <sentence id="9.20">github.com/docker/libnetwork/datastore.(*cache).list(0x11794670, 0xb54c6158, 0x1188bb60, 0x0, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.21"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/datastore/cache.go:139 +0x48</sentence>
            <sentence id="9.22">github.com/docker/libnetwork/datastore.(*datastore).List(0x1170f170, 0x117115c0, 0x1b, 0xb54c6158, 0x1188bb60, 0x0, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.23"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/datastore/datastore.go:472 +0xd8</sentence>
            <sentence id="9.24">github.com/docker/libnetwork/drivers/bridge.(*driver).populateNetworks(0x1170e1b0, 0x0, 0x0)</sentence>
            <sentence id="9.25"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/drivers/bridge/bridge_store.go:49 +0x130</sentence>
            <sentence id="9.26">github.com/docker/libnetwork/drivers/bridge.(*driver).initStore(0x1170e1b0, 0x1187de20, 0x0, 0x0)</sentence>
            <sentence id="9.27"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/drivers/bridge/bridge_store.go:42 +0x33c</sentence>
            <sentence id="9.28">github.com/docker/libnetwork/drivers/bridge.(*driver).configure(0x1170e1b0, 0x1187de20, 0x0, 0x0)</sentence>
            <sentence id="9.29"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/drivers/bridge/bridge.go:395 +0x310</sentence>
            <sentence id="9.30">github.com/docker/libnetwork/drivers/bridge.Init(0xb54c5f68, 0x118d5860, 0x1187de20, 0x0, 0x0)</sentence>
            <sentence id="9.31"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/drivers/bridge/bridge.go:140 +0x58c</sentence>
            <sentence id="9.32">github.com/docker/libnetwork.initDrivers(0x118d5860, 0x0, 0x0)</sentence>
            <sentence id="9.33"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/drivers.go:20 +0x220</sentence>
            <sentence id="9.34">github.com/docker/libnetwork.New(0x1187dca0, 0x5, 0x8, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.35"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/vendor/src/github.com/docker/libnetwork/controller.go:189 +0x464</sentence>
            <sentence id="9.36">github.com/docker/docker/daemon.(*Daemon).initNetworkController(0x118b0000, 0x11be2300, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.37"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/.gopath/src/github.com/docker/docker/daemon/daemon_unix.go:532 +0x9c</sentence>
            <sentence id="9.38">github.com/docker/docker/daemon.NewDaemon(0x11be2300, 0x1171e638, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.39"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/.gopath/src/github.com/docker/docker/daemon/daemon.go:761 +0x1dfc</sentence>
            <sentence id="9.40">main.(*DaemonCli).CmdDaemon(0x11bd5ec0, 0x1170a108, 0x0, 0x0, 0x0, 0x0)</sentence>
            <sentence id="9.41"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/docker/daemon.go:252 +0x1430</sentence>
            <sentence id="9.42">reflect.callMethod(0x119523a0, 0x11bf9e04)</sentence>
            <sentence id="9.43"> /home/theodor/resin-devices/resin-ts/build/tmp/sysroots/x86_64-linux/usr/lib/arm-poky-linux-gnueabi/go/src/reflect/value.go:631 +0x1ac</sentence>
            <sentence id="9.44">reflect.methodValueCall(0x1170a108, 0x0, 0x0, 0x1, 0x119523a0, 0x0, 0x0, 0x119523a0, 0x1171e4e8, 0x1efcc, ...)</sentence>
            <sentence id="9.45"> /home/theodor/resin-devices/resin-ts/build/tmp/sysroots/x86_64-linux/usr/lib/arm-poky-linux-gnueabi/go/src/reflect/asm_arm.s:29 +0x38</sentence>
            <sentence id="9.46">github.com/docker/docker/cli.(*Cli).Run(0x119522c0, 0x1170a108, 0x1, 0x1, 0x0, 0x0)</sentence>
            <sentence id="9.47"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/.gopath/src/github.com/docker/docker/cli/cli.go:89 +0x2e8</sentence>
            <sentence id="9.48">main.main()</sentence>
            <sentence id="9.49"> /home/theodor/resin-devices/resin-ts/build/tmp/work/armv5e-poky-linux-gnueabi/docker/1.10.3+git20f81dde9bd97c86b2d0e33bbbf1388018611929-r0/git/docker/docker.go:63 +0x40c</sentence>
            <sentence id="9.50">"'</sentence>
        </paragraph>
        <paragraph id="10">
            <sentence id="10.1">**Additional information**</sentence>
            <sentence id="10.2">I have the exact same setup (OS + docker 1.10) on a few machines with different architectures (e.g. x86, armv6, armv7), but on a machine with armv5 I get the error mentioned above.</sentence>
            <sentence id="10.3">After a bit of code digging it look like docker does not find the correct index for my network interface (the id should be smaller id - 1).</sentence>
        </paragraph>
        <paragraph id="11">
            <sentence id="11.1">Any hints will be heavily appreciated.</sentence>
        </paragraph>
    </description>
</bug>
