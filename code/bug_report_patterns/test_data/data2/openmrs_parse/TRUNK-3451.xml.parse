<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>TRUNK-3451</id>
    <title>Error when adding a privilege to a role</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">I get the following error when adding a privilege to a role by clicking the privilege and clicking Save Role.</sentence>
            <sentence id="1.2">The privilege was not checked previously.</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">{quote}
An Internal Error has Occurred
org.hibernate.NonUniqueObjectException</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">a different object with the same identifier value was already associated with the session: [org.openmrs.Role#Social Service Clerk]</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">Consult the help document.</sentence>
            <sentence id="4.2">Contact your friendly neighborhood administrator if it cannot be resolved.</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">Hide stack trace</sentence>
            <sentence id="5.2">org.hibernate.engine.StatefulPersistenceContext.checkUniqueness(StatefulPersistenceContext.java:638)</sentence>
            <sentence id="5.3">org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performUpdate(DefaultSaveOrUpdateEventListener.java:305)</sentence>
            <sentence id="5.4">org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsDetached(DefaultSaveOrUpdateEventListener.java:246)</sentence>
            <sentence id="5.5">org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:112)</sentence>
            <sentence id="5.6">org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)</sentence>
            <sentence id="5.7">org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:685)</sentence>
            <sentence id="5.8">org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:677)</sentence>
            <sentence id="5.9">org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:673)</sentence>
            <sentence id="5.10">org.openmrs.api.db.hibernate.HibernateUserDAO.saveRole(HibernateUserDAO.java:227)</sentence>
            <sentence id="5.11">org.openmrs.api.impl.UserServiceImpl.saveRole(UserServiceImpl.java:313)</sentence>
            <sentence id="5.12">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.13">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.14">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.15">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.16">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)</sentence>
            <sentence id="5.17">org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)</sentence>
            <sentence id="5.18">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)</sentence>
            <sentence id="5.19">org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)</sentence>
            <sentence id="5.20">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="5.21">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)</sentence>
            <sentence id="5.22">$Proxy117.saveRole(Unknown Source)</sentence>
            <sentence id="5.23">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.24">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.25">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.26">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.27">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)</sentence>
            <sentence id="5.28">org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)</sentence>
            <sentence id="5.29">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)</sentence>
            <sentence id="5.30">org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)</sentence>
            <sentence id="5.31">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="5.32">org.openmrs.aop.LoggingAdvice.invoke(LoggingAdvice.java:122)</sentence>
            <sentence id="5.33">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="5.34">org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50)</sentence>
            <sentence id="5.35">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="5.36">org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50)</sentence>
            <sentence id="5.37">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="5.38">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)</sentence>
            <sentence id="5.39">$Proxy118.saveRole(Unknown Source)</sentence>
            <sentence id="5.40">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.41">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.42">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.43">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.44">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)</sentence>
            <sentence id="5.45">org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)</sentence>
            <sentence id="5.46">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)</sentence>
            <sentence id="5.47">org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)</sentence>
            <sentence id="5.48">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="5.49">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)</sentence>
            <sentence id="5.50">$Proxy118.saveRole(Unknown Source)</sentence>
            <sentence id="5.51">org.openmrs.web.controller.user.RoleFormController.onSubmit(RoleFormController.java:108)</sentence>
            <sentence id="5.52">org.springframework.web.servlet.mvc.SimpleFormController.processFormSubmission(SimpleFormController.java:272)</sentence>
            <sentence id="5.53">org.openmrs.web.controller.user.RoleFormController.processFormSubmission(RoleFormController.java:87)</sentence>
            <sentence id="5.54">org.springframework.web.servlet.mvc.AbstractFormController.handleRequestInternal(AbstractFormController.java:268)</sentence>
            <sentence id="5.55">org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)</sentence>
            <sentence id="5.56">org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)</sentence>
            <sentence id="5.57">org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)</sentence>
            <sentence id="5.58">org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)</sentence>
            <sentence id="5.59">org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)</sentence>
            <sentence id="5.60">org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)</sentence>
            <sentence id="5.61">javax.servlet.http.HttpServlet.service(HttpServlet.java:641)</sentence>
            <sentence id="5.62">javax.servlet.http.HttpServlet.service(HttpServlet.java:722)</sentence>
            <sentence id="5.63">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)</sentence>
            <sentence id="5.64">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.65">org.openmrs.module.web.filter.ForcePasswordChangeFilter.doFilter(ForcePasswordChangeFilter.java:65)</sentence>
            <sentence id="5.66">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.67">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.68">org.openmrs.module.web.filter.ModuleFilterChain.doFilter(ModuleFilterChain.java:76)</sentence>
            <sentence id="5.69">org.openmrs.module.xforms.web.XformsFilter.doFilter(XformsFilter.java:60)</sentence>
            <sentence id="5.70">org.openmrs.module.web.filter.ModuleFilterChain.doFilter(ModuleFilterChain.java:74)</sentence>
            <sentence id="5.71">org.openmrs.module.web.filter.ModuleFilter.doFilter(ModuleFilter.java:58)</sentence>
            <sentence id="5.72">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.73">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.74">org.openmrs.web.filter.OpenmrsFilter.doFilterInternal(OpenmrsFilter.java:111)</sentence>
            <sentence id="5.75">org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="5.76">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.77">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.78">org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)</sentence>
            <sentence id="5.79">org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="5.80">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.81">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.82">org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:109)</sentence>
            <sentence id="5.83">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.84">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.85">org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:109)</sentence>
            <sentence id="5.86">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.87">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.88">org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:109)</sentence>
            <sentence id="5.89">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.90">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.91">org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)</sentence>
            <sentence id="5.92">org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="5.93">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="5.94">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="5.95">org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)</sentence>
            <sentence id="5.96">org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)</sentence>
            <sentence id="5.97">org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)</sentence>
            <sentence id="5.98">org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)</sentence>
            <sentence id="5.99">org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)</sentence>
            <sentence id="5.100">org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)</sentence>
            <sentence id="5.101">org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)</sentence>
            <sentence id="5.102">org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)</sentence>
            <sentence id="5.103">org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)</sentence>
            <sentence id="5.104">org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)</sentence>
            <sentence id="5.105">org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)</sentence>
            <sentence id="5.106">java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)</sentence>
            <sentence id="5.107">java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)</sentence>
            <sentence id="5.108">java.lang.Thread.run(Thread.java:662)</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">OpenMRS Version: 1.9.0 Build 27760
{quote}</sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">The following appears in the catalina.out log...</sentence>
            <sentence id="7.2">{quote}</sentence>
            <sentence id="7.3">INFO - LoggingAdvice.invoke(142) |2012-06-19 09:15:41,402| Exiting method saveRole</sentence>
            <sentence id="7.4">ERROR 2012-06-19 09:15:41,433 [Catalina].[localhost].[/openmrs].[openmrs] Servlet.service() for servlet [openmrs] in context with path [/openmrs] threw exception [Reque</sentence>
            <sentence id="7.5">st processing failed; nested exception is org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the sess</sentence>
            <sentence id="7.6">ion: [org.openmrs.Role#Social Service Clerk]] with root cause</sentence>
            <sentence id="7.7">org.hibernate.NonUniqueObjectException: a different object with the same identifier value was already associated with the session: [org.openmrs.Role#Social Service Cler</sentence>
            <sentence id="7.8">k]</sentence>
            <sentence id="7.9">        at org.hibernate.engine.StatefulPersistenceContext.checkUniqueness(StatefulPersistenceContext.java:638)</sentence>
            <sentence id="7.10">        at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performUpdate(DefaultSaveOrUpdateEventListener.java:305)</sentence>
            <sentence id="7.11">        at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.entityIsDetached(DefaultSaveOrUpdateEventListener.java:246)</sentence>
            <sentence id="7.12">        at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.performSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:112)</sentence>
            <sentence id="7.13">        at org.hibernate.event.def.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:93)</sentence>
            <sentence id="7.14">        at org.hibernate.impl.SessionImpl.fireSaveOrUpdate(SessionImpl.java:685)</sentence>
            <sentence id="7.15">        at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:677)</sentence>
            <sentence id="7.16">        at org.hibernate.impl.SessionImpl.saveOrUpdate(SessionImpl.java:673)</sentence>
            <sentence id="7.17">        at org.openmrs.api.db.hibernate.HibernateUserDAO.saveRole(HibernateUserDAO.java:227)</sentence>
            <sentence id="7.18">        at org.openmrs.api.impl.UserServiceImpl.saveRole(UserServiceImpl.java:313)</sentence>
            <sentence id="7.19">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="7.20">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="7.21">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="7.22">        at java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="7.23">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)</sentence>
            <sentence id="7.24">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)</sentence>
            <sentence id="7.25">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)</sentence>
            <sentence id="7.26">        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)</sentence>
            <sentence id="7.27">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="7.28">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)</sentence>
            <sentence id="7.29">        at $Proxy117.saveRole(Unknown Source)</sentence>
            <sentence id="7.30">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="7.31">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="7.32">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="7.33">        at java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="7.34">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)</sentence>
            <sentence id="7.35">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)</sentence>
            <sentence id="7.36">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)</sentence>
            <sentence id="7.37">        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)</sentence>
            <sentence id="7.38">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="7.39">        at org.openmrs.aop.LoggingAdvice.invoke(LoggingAdvice.java:122)</sentence>
            <sentence id="7.40">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="7.41">        at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50)</sentence>
            <sentence id="7.42">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="7.43">        at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50)</sentence>
            <sentence id="7.44">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="7.45">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)</sentence>
            <sentence id="7.46">        at $Proxy118.saveRole(Unknown Source)</sentence>
            <sentence id="7.47">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="7.48">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="7.49">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="7.50">        at java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="7.51">        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)</sentence>
            <sentence id="7.52">        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)</sentence>
            <sentence id="7.53">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)</sentence>
            <sentence id="7.54">        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)</sentence>
            <sentence id="7.55">        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)</sentence>
            <sentence id="7.56">        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)</sentence>
            <sentence id="7.57">        at $Proxy118.saveRole(Unknown Source)</sentence>
            <sentence id="7.58">        at org.openmrs.web.controller.user.RoleFormController.onSubmit(RoleFormController.java:108)</sentence>
            <sentence id="7.59">        at org.springframework.web.servlet.mvc.SimpleFormController.processFormSubmission(SimpleFormController.java:272)</sentence>
            <sentence id="7.60">        at org.openmrs.web.controller.user.RoleFormController.processFormSubmission(RoleFormController.java:87)</sentence>
            <sentence id="7.61">        at org.springframework.web.servlet.mvc.AbstractFormController.handleRequestInternal(AbstractFormController.java:268)</sentence>
            <sentence id="7.62">        at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)</sentence>
            <sentence id="7.63">        at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)</sentence>
            <sentence id="7.64">        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)</sentence>
            <sentence id="7.65">        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)</sentence>
            <sentence id="7.66">        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)</sentence>
            <sentence id="7.67">        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)</sentence>
            <sentence id="7.68">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)</sentence>
            <sentence id="7.69">        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)</sentence>
            <sentence id="7.70">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)</sentence>
            <sentence id="7.71">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.72">        at org.openmrs.module.web.filter.ForcePasswordChangeFilter.doFilter(ForcePasswordChangeFilter.java:65)</sentence>
            <sentence id="7.73">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.74">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.75">        at org.openmrs.module.web.filter.ModuleFilterChain.doFilter(ModuleFilterChain.java:76)</sentence>
            <sentence id="7.76">        at org.openmrs.module.xforms.web.XformsFilter.doFilter(XformsFilter.java:60)</sentence>
            <sentence id="7.77">        at org.openmrs.module.web.filter.ModuleFilterChain.doFilter(ModuleFilterChain.java:74)</sentence>
            <sentence id="7.78">        at org.openmrs.module.web.filter.ModuleFilter.doFilter(ModuleFilter.java:58)</sentence>
            <sentence id="7.79">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.80">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.81">        at org.openmrs.web.filter.OpenmrsFilter.doFilterInternal(OpenmrsFilter.java:111)</sentence>
            <sentence id="7.82">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="7.83">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.84">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.85">        at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)</sentence>
            <sentence id="7.86">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="7.87">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.88">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.89">        at org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:109)</sentence>
            <sentence id="7.90">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.91">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.92">        at org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:109)</sentence>
            <sentence id="7.93">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.94">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.95">        at org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:109)</sentence>
            <sentence id="7.96">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.97">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.98">        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)</sentence>
            <sentence id="7.99">        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="7.100">        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)</sentence>
            <sentence id="7.101">        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)</sentence>
            <sentence id="7.102">        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:225)</sentence>
            <sentence id="7.103">        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169)</sentence>
            <sentence id="7.104">        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)</sentence>
            <sentence id="7.105">        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168)</sentence>
            <sentence id="7.106">        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)</sentence>
            <sentence id="7.107">        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:927)</sentence>
            <sentence id="7.108">        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)</sentence>
            <sentence id="7.109">        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)</sentence>
            <sentence id="7.110">        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:999)</sentence>
            <sentence id="7.111">        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:565)</sentence>
            <sentence id="7.112">        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:309)</sentence>
            <sentence id="7.113">        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)</sentence>
            <sentence id="7.114">        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)</sentence>
            <sentence id="7.115">        at java.lang.Thread.run(Thread.java:662)</sentence>
            <sentence id="7.116">{quote}</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">This problem doesn't happen when adding the same privilege to other roles.</sentence>
            <sentence id="8.2">The problem persists after restarting Tomcat.</sentence>
        </paragraph>
    </description>
</bug>
