<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>TRUNK-1676</id>
    <title>Errors with Concept Proposal Management- Ignore fails</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">On the demo system: 1.6.1 Build 14672</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">Clicking on a concept proposal and ignoring produces the following error:</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">An Internal Error has Occurred
org.openmrs.api.APIException
Illegal Mapped Concept</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">Consult the help document.</sentence>
            <sentence id="4.2">Contact your friendly neighborhood administrator if it cannot be resolved.</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">Hide stack trace </sentence>
            <sentence id="5.2">{code}</sentence>
            <sentence id="5.3">org.openmrs.api.impl.ConceptServiceImpl.mapConceptProposalToConcept(ConceptServiceImpl.java:834)</sentence>
            <sentence id="5.4">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.5">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.6">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.7">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.8">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)</sentence>
            <sentence id="5.9">org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)</sentence>
            <sentence id="5.10">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)</sentence>
            <sentence id="5.11">org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)</sentence>
            <sentence id="5.12">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)</sentence>
            <sentence id="5.13">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)</sentence>
            <sentence id="5.14">$Proxy73.mapConceptProposalToConcept(Unknown Source)</sentence>
            <sentence id="5.15">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.16">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.17">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.18">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.19">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)</sentence>
            <sentence id="5.20">org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)</sentence>
            <sentence id="5.21">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)</sentence>
            <sentence id="5.22">org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)</sentence>
            <sentence id="5.23">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)</sentence>
            <sentence id="5.24">org.openmrs.aop.LoggingAdvice.invoke(LoggingAdvice.java:107)</sentence>
            <sentence id="5.25">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)</sentence>
            <sentence id="5.26">org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50)</sentence>
            <sentence id="5.27">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)</sentence>
            <sentence id="5.28">org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:50)</sentence>
            <sentence id="5.29">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)</sentence>
            <sentence id="5.30">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)</sentence>
            <sentence id="5.31">$Proxy74.mapConceptProposalToConcept(Unknown Source)</sentence>
            <sentence id="5.32">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.33">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.34">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.35">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.36">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)</sentence>
            <sentence id="5.37">org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:182)</sentence>
            <sentence id="5.38">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:149)</sentence>
            <sentence id="5.39">org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:106)</sentence>
            <sentence id="5.40">org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:171)</sentence>
            <sentence id="5.41">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)</sentence>
            <sentence id="5.42">$Proxy74.mapConceptProposalToConcept(Unknown Source)</sentence>
            <sentence id="5.43">sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</sentence>
            <sentence id="5.44">sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)</sentence>
            <sentence id="5.45">sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)</sentence>
            <sentence id="5.46">java.lang.reflect.Method.invoke(Method.java:597)</sentence>
            <sentence id="5.47">org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:307)</sentence>
            <sentence id="5.48">org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:198)</sentence>
            <sentence id="5.49">$Proxy124.mapConceptProposalToConcept(Unknown Source)</sentence>
            <sentence id="5.50">org.openmrs.web.controller.concept.ConceptProposalFormController.onSubmit(ConceptProposalFormController.java:143)</sentence>
            <sentence id="5.51">org.springframework.web.servlet.mvc.SimpleFormController.processFormSubmission(SimpleFormController.java:267)</sentence>
            <sentence id="5.52">org.openmrs.web.controller.concept.ConceptProposalFormController.processFormSubmission(ConceptProposalFormController.java:96)</sentence>
            <sentence id="5.53">org.springframework.web.servlet.mvc.AbstractFormController.handleRequestInternal(AbstractFormController.java:265)</sentence>
            <sentence id="5.54">org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:153)</sentence>
            <sentence id="5.55">org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:48)</sentence>
            <sentence id="5.56">org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:875)</sentence>
            <sentence id="5.57">org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:807)</sentence>
            <sentence id="5.58">org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:571)</sentence>
            <sentence id="5.59">org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:511)</sentence>
            <sentence id="5.60">javax.servlet.http.HttpServlet.service(HttpServlet.java:637)</sentence>
            <sentence id="5.61">javax.servlet.http.HttpServlet.service(HttpServlet.java:717)</sentence>
            <sentence id="5.62">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)</sentence>
            <sentence id="5.63">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.64">org.openmrs.module.web.filter.ModuleFilterChain.doFilter(ModuleFilterChain.java:76)</sentence>
            <sentence id="5.65">org.openmrs.module.web.filter.ModuleFilter.doFilter(ModuleFilter.java:58)</sentence>
            <sentence id="5.66">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.67">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.68">org.openmrs.web.filter.OpenmrsFilter.doFilterInternal(OpenmrsFilter.java:112)</sentence>
            <sentence id="5.69">org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="5.70">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.71">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.72">org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198)</sentence>
            <sentence id="5.73">org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="5.74">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.75">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.76">org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:82)</sentence>
            <sentence id="5.77">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.78">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.79">org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:82)</sentence>
            <sentence id="5.80">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.81">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.82">org.openmrs.web.filter.StartupFilter.doFilter(StartupFilter.java:82)</sentence>
            <sentence id="5.83">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.84">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.85">org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:96)</sentence>
            <sentence id="5.86">org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)</sentence>
            <sentence id="5.87">org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)</sentence>
            <sentence id="5.88">org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)</sentence>
            <sentence id="5.89">org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)</sentence>
            <sentence id="5.90">org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)</sentence>
            <sentence id="5.91">org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)</sentence>
            <sentence id="5.92">org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)</sentence>
            <sentence id="5.93">org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)</sentence>
            <sentence id="5.94">org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)</sentence>
            <sentence id="5.95">org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)</sentence>
            <sentence id="5.96">org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)</sentence>
            <sentence id="5.97">org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:769)</sentence>
            <sentence id="5.98">org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:698)</sentence>
            <sentence id="5.99">org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:891)</sentence>
            <sentence id="5.100">org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)</sentence>
            <sentence id="5.101">java.lang.Thread.run(Thread.java:619)</sentence>
            <sentence id="5.102">{code}</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">OpenMRS Version: 1.6.1 Build 14672</sentence>
        </paragraph>
    </description>
</bug>
