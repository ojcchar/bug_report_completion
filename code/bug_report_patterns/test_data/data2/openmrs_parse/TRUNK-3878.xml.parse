<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>TRUNK-3878</id>
    <title>Forgot password form IP-based lockout locks everyone from using it</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">The forgot password form controller logs login attempts using request.getLocalAddr() instead of request.getRemoteAddr()</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">https://github.com/openmrs/openmrs-core/blob/master/web/src/main/java/org/openmrs/web/controller/ForgotPasswordFormController.java line 80</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">Ideally this controller should share the list of locked out IPs with LoginServlet.</sentence>
            <sentence id="3.2">If a rogue IP address is blocked from one, it should be blocked from the other</sentence>
        </paragraph>
    </description>
</bug>
