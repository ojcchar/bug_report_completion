<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>27111</id>
    <title>Docker service ps shows odd ordering</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">**Description**</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">When inspecting the history of containers for a service, the ordering is confusing, or I just don't understand what is going on.</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">**Steps to reproduce the issue:**</sentence>
            <sentence id="3.2">I haven't been able to reproduce, but this is what I did.</sentence>
            <sentence id="3.3">1 Update a running service to an image that doesn't exist.</sentence>
            <sentence id="3.4">2 Update the same service to an image that DOES exist.</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">**Describe the results you received:**</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">2/3 of the new containers either died or were shutdown.</sentence>
            <sentence id="5.2">1 of the new containers successfully started.</sentence>
            <sentence id="5.3">The odd thing is that in 'docker service ps kong', the service that is running is not the one that is left-most or at the top of the list.</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">!</sentence>
            <sentence id="6.2">[image](https://cloud.githubusercontent.com/assets/571756/19038566/1755a122-894a-11e6-9641-83efb5b43fee.png)</sentence>
        </paragraph>
        <paragraph id="7">
            <sentence id="7.1">**Describe the results you expected:**</sentence>
            <sentence id="7.2">I expected 1 service running, with it being at the top of the list.</sentence>
        </paragraph>
        <paragraph id="8">
            <sentence id="8.1">**Additional information you deem important (e.g. issue happens only occasionally):**</sentence>
            <sentence id="8.2">To reproduce this, we might need to have a container that has an occasional failure on startup--I'm not sure.</sentence>
        </paragraph>
        <paragraph id="14">
            <sentence id="14.1">**Additional environment details (AWS, VirtualBox, physical, etc.):**</sentence>
            <sentence id="14.2">This on an Azure VM and I cannot access the previously failed-to-start containers since we are using docker-cleanup to cleanup old containers/images.</sentence>
        </paragraph>
        <paragraph id="15">
            <sentence id="15.1">The custom kong image is just an image with custom plugins installed.</sentence>
            <sentence id="15.2">The command at container init is exactly the same as the public, official kong image.</sentence>
        </paragraph>
    </description>
</bug>
