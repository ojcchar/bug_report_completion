<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<bug>
    <id>36610</id>
    <title>.htaccess AddHeader handling is buggy</title>
    <description>
        <paragraph id="1">
            <sentence id="1.1">I try to use the following directive from a .</sentence>
            <sentence id="1.2">htaccess file:</sentence>
        </paragraph>
        <paragraph id="2">
            <sentence id="2.1">&lt;Files "test.jpg"&gt;
  header set X-MP-Tax "25.0%"
&lt;/Files&gt;</sentence>
        </paragraph>
        <paragraph id="3">
            <sentence id="3.1">This results as an internal server error.</sentence>
            <sentence id="3.2">The parser code in mod_headers.c
declares that after a '%' character is read, the next character should be read
and a handler function should be called.</sentence>
            <sentence id="3.3">However I don't have a next character...</sentence>
        </paragraph>
        <paragraph id="4">
            <sentence id="4.1">A possible workaround can be to use something like this:</sentence>
        </paragraph>
        <paragraph id="5">
            <sentence id="5.1">SetEnv VAT "25.0%"
&lt;Files "test.jpg"&gt;
  header set X-MP-Tax "%{VAT}e"
&lt;/Files&gt;</sentence>
        </paragraph>
        <paragraph id="6">
            <sentence id="6.1">But I think there should be a better solution, or at least a warning in the docs
not to use % characters while setting HTTP headers from a .htaccess.</sentence>
        </paragraph>
    </description>
</bug>
